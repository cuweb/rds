import{j as o}from"./jsx-runtime-Cf8x2fCZ.js";import{r as n,e as v}from"./index-DDmFEvuO.js";import{I as k}from"./Icon-BgN7k367.js";import{n as P,K as W,y as ne,l as re,u as se,i as S,o as j,L as ie,O as be,s as Te,p as we,A as R,a as le,x as ye,m as je,R as Ne,t as Ce,c as Ee}from"./use-server-handoff-complete-Dsuaxz_T.js";function Re(){let e=n.useRef(!1);return P(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function ae(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:ue)!==n.Fragment||v.Children.count(e.children)===1}let U=n.createContext(null);U.displayName="TransitionContext";var Fe=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Fe||{});function Se(){let e=n.useContext(U);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function Pe(){let e=n.useContext(D);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let D=n.createContext(null);D.displayName="NestingContext";function B(e){return"children"in e?B(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function oe(e,t){let r=Te(e),l=n.useRef([]),p=Re(),F=we(),x=j((a,s=R.Hidden)=>{let u=l.current.findIndex(({el:i})=>i===a);u!==-1&&(le(s,{[R.Unmount](){l.current.splice(u,1)},[R.Hidden](){l.current[u].state="hidden"}}),F.microTask(()=>{var i;!B(l)&&p.current&&((i=r.current)==null||i.call(r))}))}),N=j(a=>{let s=l.current.find(({el:u})=>u===a);return s?s.state!=="visible"&&(s.state="visible"):l.current.push({el:a,state:"visible"}),()=>x(a,R.Unmount)}),b=n.useRef([]),f=n.useRef(Promise.resolve()),g=n.useRef({enter:[],leave:[]}),T=j((a,s,u)=>{b.current.splice(0),t&&(t.chains.current[s]=t.chains.current[s].filter(([i])=>i!==a)),t==null||t.chains.current[s].push([a,new Promise(i=>{b.current.push(i)})]),t==null||t.chains.current[s].push([a,new Promise(i=>{Promise.all(g.current[s].map(([C,z])=>z)).then(()=>i())})]),s==="enter"?f.current=f.current.then(()=>t==null?void 0:t.wait.current).then(()=>u(s)):u(s)}),w=j((a,s,u)=>{Promise.all(g.current[s].splice(0).map(([i,C])=>C)).then(()=>{var i;(i=b.current.shift())==null||i()}).then(()=>u(s))});return n.useMemo(()=>({children:l,register:N,unregister:x,onStart:T,onStop:w,wait:f,chains:g}),[N,x,l,T,w,g,f])}let ue=n.Fragment,ce=be.RenderStrategy;function ze(e,t){var r,l;let{transition:p=!0,beforeEnter:F,afterEnter:x,beforeLeave:N,afterLeave:b,enter:f,enterFrom:g,enterTo:T,entered:w,leave:a,leaveFrom:s,leaveTo:u,...i}=e,[C,z]=n.useState(null),c=n.useRef(null),y=ae(e),E=ne(...y?[c,t,z]:t===null?[]:[t]),Y=(r=i.unmount)==null||r?R.Unmount:R.Hidden,{show:m,appear:Z,initial:_}=Se(),[h,K]=n.useState(m?"visible":"hidden"),$=Pe(),{register:L,unregister:A}=$;P(()=>L(c),[L,c]),P(()=>{if(Y===R.Hidden&&c.current){if(m&&h!=="visible"){K("visible");return}return le(h,{hidden:()=>A(c),visible:()=>L(c)})}},[h,c,L,A,m,Y]);let q=re();P(()=>{if(y&&q&&h==="visible"&&c.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[c,h,q,y]);let ve=_&&!Z,J=Z&&m&&_,G=n.useRef(!1),I=oe(()=>{G.current||(K("hidden"),A(c))},$),ee=j(Q=>{G.current=!0;let M=Q?"enter":"leave";I.onStart(c,M,O=>{O==="enter"?F==null||F():O==="leave"&&(N==null||N())})}),te=j(Q=>{let M=Q?"enter":"leave";G.current=!1,I.onStop(c,M,O=>{O==="enter"?x==null||x():O==="leave"&&(b==null||b())}),M==="leave"&&!B(I)&&(K("hidden"),A(c))});n.useEffect(()=>{y&&p||(ee(m),te(m))},[m,y,p]);let pe=!(!p||!y||!q||ve),[,d]=ye(pe,C,m,{start:ee,end:te}),xe=je({ref:E,className:((l=Ce(i.className,J&&f,J&&g,d.enter&&f,d.enter&&d.closed&&g,d.enter&&!d.closed&&T,d.leave&&a,d.leave&&!d.closed&&s,d.leave&&d.closed&&u,!d.transition&&m&&w))==null?void 0:l.trim())||void 0,...Ne(d)}),H=0;h==="visible"&&(H|=S.Open),h==="hidden"&&(H|=S.Closed),m&&h==="hidden"&&(H|=S.Opening),!m&&h==="visible"&&(H|=S.Closing);let ge=ie();return v.createElement(D.Provider,{value:I},v.createElement(Ee,{value:H},ge({ourProps:xe,theirProps:i,defaultTag:ue,features:ce,visible:h==="visible",name:"Transition.Child"})))}function He(e,t){let{show:r,appear:l=!1,unmount:p=!0,...F}=e,x=n.useRef(null),N=ae(e),b=ne(...N?[x,t]:t===null?[]:[t]);re();let f=se();if(r===void 0&&f!==null&&(r=(f&S.Open)===S.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[g,T]=n.useState(r?"visible":"hidden"),w=oe(()=>{r||T("hidden")}),[a,s]=n.useState(!0),u=n.useRef([r]);P(()=>{a!==!1&&u.current[u.current.length-1]!==r&&(u.current.push(r),s(!1))},[u,r]);let i=n.useMemo(()=>({show:r,appear:l,initial:a}),[r,l,a]);P(()=>{r?T("visible"):!B(w)&&x.current!==null&&T("hidden")},[r,w]);let C={unmount:p},z=j(()=>{var E;a&&s(!1),(E=e.beforeEnter)==null||E.call(e)}),c=j(()=>{var E;a&&s(!1),(E=e.beforeLeave)==null||E.call(e)}),y=ie();return v.createElement(D.Provider,{value:w},v.createElement(U.Provider,{value:i},y({ourProps:{...C,as:n.Fragment,children:v.createElement(de,{ref:b,...C,...F,beforeEnter:z,beforeLeave:c})},theirProps:{},defaultTag:n.Fragment,features:ce,visible:g==="visible",name:"Transition"})))}function Oe(e,t){let r=n.useContext(U)!==null,l=se()!==null;return v.createElement(v.Fragment,null,!r&&l?v.createElement(V,{ref:t,...e}):v.createElement(de,{ref:t,...e}))}let V=W(He),de=W(ze),ke=W(Oe),Le=Object.assign(V,{Child:ke,Root:V});const me=({children:e})=>o.jsx("div",{"aria-live":"assertive",className:"not-prose pointer-events-none z-[100] fixed top-16 bottom-0 left-0 right-0 flex items-end px-4 py-6 sm:items-start sm:p-6",children:o.jsx("div",{className:"flex w-full flex-col items-center space-y-4 sm:items-end",children:e})}),fe=({children:e})=>o.jsx("p",{className:"text-sm font-medium text-gray-900",children:e}),he=({children:e})=>o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:e}),X=({children:e,type:t})=>{const[r,l]=n.useState(!0),p={success:{icon:o.jsx(k,{name:"circle-check",size:24,color:"#4ade80","aria-hidden":"true"})},warning:{icon:o.jsx(k,{name:"shield-exclamation",size:24,color:"#facc15","aria-hidden":"true"})},error:{icon:o.jsx(k,{name:"circle-exclamation",size:24,color:"#e91c24","aria-hidden":"true"})},info:{icon:o.jsx(k,{name:"circle-info",size:24,color:"#2563eb","aria-hidden":"true"})}};return o.jsx(Le,{show:r,as:n.Fragment,enter:"transform ease-out duration-300 transition",enterFrom:"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2",enterTo:"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:o.jsx("div",{className:"cu-toast pointer-events-auto w-full max-w-sm overflow-hidden rounded-lg bg-white shadow-lg ring-1 ring-black ring-opacity-5",children:o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"flex-shrink-0",children:p[t].icon}),o.jsx("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:e}),o.jsx("div",{className:"ml-4 flex flex-shrink-0",children:o.jsxs("button",{type:"button",className:"inline-flex rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:()=>{l(!1)},children:[o.jsx("span",{className:"sr-only",children:"Close"}),o.jsx(k,{name:"xmark",size:20,className:"h-5 w-5","aria-hidden":"true"})]})})]})})})})},De=Object.assign(X,{Toaster:me,Title:fe,Content:he});X.displayName="Toast";fe.displayName="Toast.Title";he.displayName="Toast.Content";me.displayName="Toaster";X.__docgenInfo={description:"",methods:[],displayName:"Toast",props:{type:{required:!0,tsType:{name:"union",raw:"'success' | 'error' | 'warning' | 'info'",elements:[{name:"literal",value:"'success'"},{name:"literal",value:"'error'"},{name:"literal",value:"'warning'"},{name:"literal",value:"'info'"}]},description:""}}};export{De as T};
