import{j as o}from"./jsx-runtime-Cf8x2fCZ.js";import{r as n,e as f}from"./index-DDmFEvuO.js";import{I as L}from"./Icon-C1WGhw-n.js";import{n as P,K as W,y as ne,l as re,u as se,i as S,o as N,L as le,O as we,s as be,p as Te,A as R,a as ae,x as ye,m as Ne,R as je,t as Ce,c as Ee}from"./use-server-handoff-complete-Dsuaxz_T.js";function Re(){let e=n.useRef(!1);return P(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function ie(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:ue)!==n.Fragment||f.Children.count(e.children)===1}let z=n.createContext(null);z.displayName="TransitionContext";var Fe=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Fe||{});function Se(){let e=n.useContext(z);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function Pe(){let e=n.useContext(D);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let D=n.createContext(null);D.displayName="NestingContext";function B(e){return"children"in e?B(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function oe(e,t){let r=be(e),a=n.useRef([]),h=Re(),F=Te(),v=N((i,s=R.Hidden)=>{let u=a.current.findIndex(({el:l})=>l===i);u!==-1&&(ae(s,{[R.Unmount](){a.current.splice(u,1)},[R.Hidden](){a.current[u].state="hidden"}}),F.microTask(()=>{var l;!B(a)&&h.current&&((l=r.current)==null||l.call(r))}))}),j=N(i=>{let s=a.current.find(({el:u})=>u===i);return s?s.state!=="visible"&&(s.state="visible"):a.current.push({el:i,state:"visible"}),()=>v(i,R.Unmount)}),g=n.useRef([]),m=n.useRef(Promise.resolve()),p=n.useRef({enter:[],leave:[]}),w=N((i,s,u)=>{g.current.splice(0),t&&(t.chains.current[s]=t.chains.current[s].filter(([l])=>l!==i)),t==null||t.chains.current[s].push([i,new Promise(l=>{g.current.push(l)})]),t==null||t.chains.current[s].push([i,new Promise(l=>{Promise.all(p.current[s].map(([C,H])=>H)).then(()=>l())})]),s==="enter"?m.current=m.current.then(()=>t==null?void 0:t.wait.current).then(()=>u(s)):u(s)}),b=N((i,s,u)=>{Promise.all(p.current[s].splice(0).map(([l,C])=>C)).then(()=>{var l;(l=g.current.shift())==null||l()}).then(()=>u(s))});return n.useMemo(()=>({children:a,register:j,unregister:v,onStart:w,onStop:b,wait:m,chains:p}),[j,v,a,w,b,p,m])}let ue=n.Fragment,ce=we.RenderStrategy;function He(e,t){var r,a;let{transition:h=!0,beforeEnter:F,afterEnter:v,beforeLeave:j,afterLeave:g,enter:m,enterFrom:p,enterTo:w,entered:b,leave:i,leaveFrom:s,leaveTo:u,...l}=e,[C,H]=n.useState(null),c=n.useRef(null),T=ie(e),E=ne(...T?[c,t,H]:t===null?[]:[t]),Y=(r=l.unmount)==null||r?R.Unmount:R.Hidden,{show:x,appear:Z,initial:_}=Se(),[y,K]=n.useState(x?"visible":"hidden"),$=Pe(),{register:A,unregister:I}=$;P(()=>A(c),[A,c]),P(()=>{if(Y===R.Hidden&&c.current){if(x&&y!=="visible"){K("visible");return}return ae(y,{hidden:()=>I(c),visible:()=>A(c)})}},[y,c,A,I,x,Y]);let q=re();P(()=>{if(T&&q&&y==="visible"&&c.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[c,y,q,T]);let ve=_&&!Z,J=Z&&x&&_,G=n.useRef(!1),M=oe(()=>{G.current||(K("hidden"),I(c))},$),ee=N(Q=>{G.current=!0;let U=Q?"enter":"leave";M.onStart(c,U,k=>{k==="enter"?F==null||F():k==="leave"&&(j==null||j())})}),te=N(Q=>{let U=Q?"enter":"leave";G.current=!1,M.onStop(c,U,k=>{k==="enter"?v==null||v():k==="leave"&&(g==null||g())}),U==="leave"&&!B(M)&&(K("hidden"),I(c))});n.useEffect(()=>{T&&h||(ee(x),te(x))},[x,T,h]);let pe=!(!h||!T||!q||ve),[,d]=ye(pe,C,x,{start:ee,end:te}),xe=Ne({ref:E,className:((a=Ce(l.className,J&&m,J&&p,d.enter&&m,d.enter&&d.closed&&p,d.enter&&!d.closed&&w,d.leave&&i,d.leave&&!d.closed&&s,d.leave&&d.closed&&u,!d.transition&&x&&b))==null?void 0:a.trim())||void 0,...je(d)}),O=0;y==="visible"&&(O|=S.Open),y==="hidden"&&(O|=S.Closed),d.enter&&(O|=S.Opening),d.leave&&(O|=S.Closing);let ge=le();return f.createElement(D.Provider,{value:M},f.createElement(Ee,{value:O},ge({ourProps:xe,theirProps:l,defaultTag:ue,features:ce,visible:y==="visible",name:"Transition.Child"})))}function Oe(e,t){let{show:r,appear:a=!1,unmount:h=!0,...F}=e,v=n.useRef(null),j=ie(e),g=ne(...j?[v,t]:t===null?[]:[t]);re();let m=se();if(r===void 0&&m!==null&&(r=(m&S.Open)===S.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[p,w]=n.useState(r?"visible":"hidden"),b=oe(()=>{r||w("hidden")}),[i,s]=n.useState(!0),u=n.useRef([r]);P(()=>{i!==!1&&u.current[u.current.length-1]!==r&&(u.current.push(r),s(!1))},[u,r]);let l=n.useMemo(()=>({show:r,appear:a,initial:i}),[r,a,i]);P(()=>{r?w("visible"):!B(b)&&v.current!==null&&w("hidden")},[r,b]);let C={unmount:h},H=N(()=>{var E;i&&s(!1),(E=e.beforeEnter)==null||E.call(e)}),c=N(()=>{var E;i&&s(!1),(E=e.beforeLeave)==null||E.call(e)}),T=le();return f.createElement(D.Provider,{value:b},f.createElement(z.Provider,{value:l},T({ourProps:{...C,as:n.Fragment,children:f.createElement(de,{ref:g,...C,...F,beforeEnter:H,beforeLeave:c})},theirProps:{},defaultTag:n.Fragment,features:ce,visible:p==="visible",name:"Transition"})))}function ke(e,t){let r=n.useContext(z)!==null,a=se()!==null;return f.createElement(f.Fragment,null,!r&&a?f.createElement(V,{ref:t,...e}):f.createElement(de,{ref:t,...e}))}let V=W(Oe),de=W(He),Le=W(ke),Ae=Object.assign(V,{Child:Le,Root:V});const me=({children:e})=>o.jsx("div",{"aria-live":"assertive",className:"not-prose pointer-events-none z-[100] fixed top-16 bottom-0 left-0 right-0 flex items-end px-4 py-6 sm:items-start sm:p-6",children:o.jsx("div",{className:"flex w-full flex-col items-center space-y-4 sm:items-end",children:e})}),fe=({children:e})=>o.jsx("p",{className:"text-sm font-medium text-gray-900",children:e}),he=({children:e})=>o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:e}),X=({children:e,type:t})=>{const[r,a]=n.useState(!0),h={success:{icon:o.jsx(L,{name:"circle-check",className:"w-6 h-6 text-green-400"})},warning:{icon:o.jsx(L,{name:"shield-halved",className:"w-6 h-6 text-yellow-400"})},error:{icon:o.jsx(L,{name:"circle-exclamation",className:"w-6 h-6 text-cu-red"})},info:{icon:o.jsx(L,{name:"shield-halved",className:"w-6 h-6 text-blue-600"})}};return o.jsx(Ae,{show:r,as:n.Fragment,enter:"transform ease-out duration-300 transition",enterFrom:"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2",enterTo:"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:o.jsx("div",{className:"cu-toast pointer-events-auto w-full max-w-sm overflow-hidden rounded-lg bg-white shadow-lg ring-1 ring-black ring-opacity-5",children:o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"flex-shrink-0",children:h[t].icon}),o.jsx("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:e}),o.jsx("div",{className:"ml-4 flex flex-shrink-0",children:o.jsxs("button",{type:"button",className:"inline-flex rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:()=>{a(!1)},children:[o.jsx("span",{className:"sr-only",children:"Close"}),o.jsx(L,{name:"xmark",className:"h-5 w-5"})]})})]})})})})},De=Object.assign(X,{Toaster:me,Title:fe,Content:he});X.displayName="Toast";fe.displayName="Toast.Title";he.displayName="Toast.Content";me.displayName="Toaster";X.__docgenInfo={description:"",methods:[],displayName:"Toast",props:{type:{required:!0,tsType:{name:"union",raw:"'success' | 'error' | 'warning' | 'info'",elements:[{name:"literal",value:"'success'"},{name:"literal",value:"'error'"},{name:"literal",value:"'warning'"},{name:"literal",value:"'info'"}]},description:""}}};export{De as T};
