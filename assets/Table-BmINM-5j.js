import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{r as p}from"./index-Bvnp1rP5.js";import{I as g}from"./Icon-z0nuAvuJ.js";const b={tableGlobal:"p-3 md:p-4 text-left align-text-top",tableHeaderRow:"font-semibold text-sm md:text-base",tableBodyRow:"text-sm md:text-base",borders:"border-b border-cu-black-100 last:border-none",striped:"odd:bg-white even:bg-cu-black-25"},v=({columns:n,noWordBreak:l,sortData:a})=>{const[d,r]=p.useState(!0),[i,m]=p.useState(""),c=l?"whitespace-nowrap":"",o=e=>{const f=e;let y=!0;e===i&&(y=!d),m(f),r(y),a(f,y)},u=p.useRef(!1);p.useEffect(()=>{if(!u.current){const e=n.find(f=>f.default);e&&(m(e.key),r((e==null?void 0:e.order)==="ascending"),a(e.key,(e==null?void 0:e.order)==="ascending")),u.current=!0}},[n,a]);const s=n.map((e,f)=>{var h,w,T,x,R;const y=(h=e==null?void 0:e.sort)!=null&&h.sortable?"hover:cursor-pointer":"hover:cursor-auto";return t.jsx("th",{scope:"col",className:`${b.tableGlobal} ${b.tableHeaderRow} ${y} ${c} `,onClick:()=>{var k;return(k=e==null?void 0:e.sort)!=null&&k.sortable?o(e.key):void 0},"aria-sort":e.key===i&&d?"descending":e.key===i&&!d?"ascending":void 0,children:(w=e.sort)!=null&&w.sortable?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{children:e.header}),e.key===i&&d?t.jsx("button",{className:"block w-4 h-full ml-2","aria-label":(T=e==null?void 0:e.sort)!=null&&T.sortable?"Sort "+e.key+" by ascending order":void 0,children:t.jsx(g,{name:"chevron-down",size:16,color:"#808080",className:"inline-block","aria-hidden":"true"})}):e.key===i&&!d?t.jsx("button",{className:"block w-4 h-full ml-2","aria-label":(x=e==null?void 0:e.sort)!=null&&x.sortable?"Sort "+e.key+" by descending order":void 0,children:t.jsx(g,{name:"chevron-up",size:16,color:"#808080",className:"inline-block","aria-hidden":"true"})}):t.jsx("button",{className:"block w-4 h-full ml-2","aria-label":(R=e==null?void 0:e.sort)!=null&&R.sortable?"Sort by "+e.key:void 0,children:t.jsx(g,{name:"chevron-up-down",size:16,color:"#808080",className:"inline-block","aria-hidden":"true"})})]}):e.header},`headerCell-${f}`)});return t.jsx("thead",{className:"border-b border-cu-black-200 bg-cu-black-50",children:t.jsx("tr",{children:s})})};v.__docgenInfo={description:"",methods:[],displayName:"TableHeader",props:{columns:{required:!0,tsType:{name:"Array",elements:[{name:"ColumnDefinitionType"}],raw:"ColumnDefinitionType[]"},description:""},noWordBreak:{required:!0,tsType:{name:"boolean"},description:""},sortData:{required:!0,tsType:{name:"signature",type:"function",raw:"(a: string, s: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"a"},{type:{name:"boolean"},name:"s"}],return:{name:"void"}}},description:""}}};const j=({data:n,columns:l,striped:a,enableRowHeader:d})=>{const r=a?`${b.striped} ${b.borders}`:b.borders,i=n.map((m,c)=>t.jsx("tr",{className:r,children:l.map((o,u)=>{const s=m[o.key];return d&&u==0?t.jsx("th",{scope:"row",className:`${b.tableGlobal} ${b.tableBodyRow}`,children:s},`cell-${u}`):t.jsx("td",{className:`${b.tableGlobal} ${b.tableBodyRow}`,children:s},`cell-${u}`)})},`row-${c}`));return t.jsx("tbody",{children:i})};j.__docgenInfo={description:"",methods:[],displayName:"TableRows",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  [k: string]: string | number | React.ReactElement
}`,signature:{properties:[{key:{name:"string"},value:{name:"union",raw:"string | number | React.ReactElement",elements:[{name:"string"},{name:"number"},{name:"ReactReactElement",raw:"React.ReactElement"}],required:!0}}]}}],raw:`{
  [k: string]: string | number | React.ReactElement
}[]`},description:""},columns:{required:!0,tsType:{name:"Array",elements:[{name:"ColumnDefinitionType"}],raw:"ColumnDefinitionType[]"},description:""},striped:{required:!0,tsType:{name:"boolean"},description:""},range:{required:!0,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:""},enableRowHeader:{required:!0,tsType:{name:"boolean"},description:""}}};const q=n=>{const[l,a]=p.useState(n);return p.useEffect(()=>{a(n)},[n]),[l,(r,i)=>{if(r){const m=[...l].sort((c,o)=>c[r]===null?1:o[r]===null?-1:c[r]===null&&o[r]===null?0:c[r].toString().localeCompare(o[r].toString(),"en",{numeric:!0})*(i?1:-1));a(m)}}]},N=({data:n,colgroup:l,columns:a,hasStripes:d=!1,noWordBreak:r=!1,range:i=[1,-1],enableRowHeader:m=!1})=>{const[c,o]=q(n),u=p.useRef(!1);return p.useEffect(()=>{if(!u.current){const s=a.find(e=>e.default);s&&o(s.key,(s==null?void 0:s.order)==="ascending"),u.current=!0}},[a,o]),t.jsx("div",{className:"cu-table cu-component-updated not-prose overflow-x-auto overflow-y-hidden rounded-lg shadow-lg",children:t.jsxs("table",{className:`min-w-full ${l?"table-fixed lg:w-full":"table-auto"}`,children:[l&&t.jsx("colgroup",{children:l.map((s,e)=>t.jsx("col",{style:{width:`${s}%`}},`col-${e}`))}),t.jsx(v,{columns:a,noWordBreak:r,sortData:o}),t.jsx(j,{data:c,columns:a,striped:d,range:i,enableRowHeader:m})]})})};N.__docgenInfo={description:"",methods:[],displayName:"Table",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  [k: string]: string | number | React.ReactElement
}`,signature:{properties:[{key:{name:"string"},value:{name:"union",raw:"string | number | React.ReactElement",elements:[{name:"string"},{name:"number"},{name:"ReactReactElement",raw:"React.ReactElement"}],required:!0}}]}}],raw:`{
  [k: string]: string | number | React.ReactElement
}[]`},description:""},colgroup:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:""},columns:{required:!0,tsType:{name:"Array",elements:[{name:"ColumnDefinitionType"}],raw:"ColumnDefinitionType[]"},description:""},hasStripes:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},noWordBreak:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},range:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:"",defaultValue:{value:"[1, -1]",computed:!1}},enableRowHeader:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};export{N as T};
