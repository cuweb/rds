import{j as s}from"./jsx-runtime-Nms4Y4qS.js";import{r as q}from"./index-BwDkhjyp.js";import{u as y}from"./useLinkContext-Bz4KtVj9.js";import{A as L}from"./Avatar-DmMiCzKE.js";import{B as C}from"./ButtonGroup-02ebpWXM.js";const N=({title:e,link:r})=>{const t=y();return s.jsxs("div",{className:"cu-nav__top flex items-center py-3.5 gap-5 md:gap-8 shrink-1 md:shrink-0 max-sm:grow",children:[e&&r&&s.jsxs("a",{href:"https://carleton.ca",className:"shrink-0",children:[s.jsx("img",{className:"w-[148px] h-[40px] shrink-0 hidden md:block",src:"https://cu-production.s3.amazonaws.com/rds/assets/cu-logos/cu-logo-color-right-horiztonal.svg",width:"148",height:"40",alt:"Carleton University Logo"}),s.jsx("img",{className:"w-[30px] h-[38px] shrink-0 md:hidden",src:"https://cu-production.s3.amazonaws.com/rds/assets/cu-logos/cu-shield-color.svg",width:"30",height:"38",alt:"Carleton University Logo"})]}),!e&&s.jsx("a",{href:"https://carleton.ca",className:"shrink-0",children:s.jsx("img",{className:"w-[148px] h-[40px] shrink-0",src:"https://cu-production.s3.amazonaws.com/rds/assets/cu-logos/cu-logo-color-right-horiztonal.svg",width:"148",height:"40",alt:"Logo"})}),e&&r&&s.jsx("div",{className:"leading-none max-w-[60%] sm:max-w-[200px] md:max-w-[220px]",children:s.jsx(t,{href:r,className:"overflow-hidden text-base font-semibold leading-5 md:text-lg md:leading-6 text-cu-black-800 hover:text-cu-red-700 text-ellipsis line-clamp-2",children:e})})]})};N.displayName="Nav.Logo";N.__docgenInfo={description:"",methods:[],displayName:"Nav.Logo",props:{title:{required:!1,tsType:{name:"string"},description:""},link:{required:!1,tsType:{name:"string"},description:""}}};const v={menuWrapper:"relative flex items-center grow-0 min-h-8 pr-3 last:pr-0",subMenuWrapper:"block text-sm font-medium text-cu-black-600 border-b border-b-cu-black-50 last:border-b-0"},i={navItemWrapper:"flex items-stretch justify-between",navItem:"flex w-auto grow items-center gap-0.5 text-[15px] font-medium text-cu-black-700 hover:text-cu-red-700 transition ease-in",navParentItem:"cu-nav__parent-item items-between cursor-pointer after:w-1.5 after:h-1.5 after:grow-0 after:shrink-0 after:basis-[6px]",navArrow:"after:content-[''] hover:after:border-current after:ml-1 after:mt-px after:border-t after:border-t-cu-black-700 after:border-l after:border-l-cu-black-700 after:rotate-[135deg] after:transition after:ease-in after:duration-300",navParentArrow:"after:w-1.5 after:h-1.5",subMenuItem:"px-5 py-3.5 hover:bg-cu-black-50/50",innerSubNavToggler:"cu-nav__inner-submenu-toggle flex grow-0 shrink-0 basis-12 items-center justify-center w-12 hover:bg-cu-black-50/50 transition ease-in duration-300 after:w-1.5 after:h-1.5 after:right-1 after:relative"},E=e=>e.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-"),w=({menuItem:e,isSubMenu:r,isInnerSubMenu:t,id:a})=>{const n=y();return s.jsxs("span",{className:i.navItemWrapper,role:"navigation","data-menu-item":E(a),"aria-expanded":"false",children:[e.onClickHandler?s.jsxs("a",{onClick:e.onClickHandler,className:(e.submenu&&!t?i.navParentItem+" "+i.navArrow+" "+i.navParentArrow:"")+" "+i.navItem+" "+(r?i.subMenuItem:""),children:[s.jsx("span",{className:e.title.length>25?"cu-nav__parent-inner":"",children:e.title}),e.submenu&&!t?s.jsx("button",{className:"hidden "+i.innerSubNavToggler+" "+i.navArrow,children:s.jsx("span",{className:"sr-only",children:"Click to open inner submenu"})}):s.jsx(s.Fragment,{})]}):s.jsxs(n,{href:e.href,className:(e.submenu&&!t?i.navParentItem+" "+i.navArrow+" "+i.navParentArrow:"")+" "+i.navItem+" "+(r?i.subMenuItem:""),children:[s.jsx("span",{className:e.title.length>25?"cu-nav__parent-inner":"",children:e.title}),e.submenu&&!t?s.jsx("button",{className:"hidden "+i.innerSubNavToggler+" "+i.navArrow,children:s.jsx("span",{className:"sr-only",children:"Click to open inner submenu"})}):s.jsx(s.Fragment,{})]}),e.submenu&&t?s.jsx("button",{className:t?i.innerSubNavToggler+" "+i.navArrow:"","aria-expanded":"false",children:s.jsx("span",{className:"sr-only",children:"Click to open inner submenu"})}):s.jsx(s.Fragment,{})]})};w.displayName="Nav.NavMenuItem";w.__docgenInfo={description:"",methods:[],displayName:"Nav.NavMenuItem",props:{menuItem:{required:!0,tsType:{name:"ImenuItem"},description:""},isSubMenu:{required:!0,tsType:{name:"boolean"},description:""},isInnerSubMenu:{required:!0,tsType:{name:"boolean"},description:""},id:{required:!0,tsType:{name:"string"},description:""}}};const b=({menuItem:e,isSubMenu:r,isInnerSubMenu:t})=>s.jsxs("li",{className:r?v.subMenuWrapper:v.menuWrapper,children:[s.jsx(w,{menuItem:e,isSubMenu:r,isInnerSubMenu:t,id:e.title}),e.submenu?s.jsx(h,{submenu:e.submenu,isSubMenu:!0,isInnerSubMenu:t,id:e.title}):s.jsx(s.Fragment,{})]},e.title);b.displayName="Nav.NavMenuItemWrapper";b.__docgenInfo={description:"",methods:[],displayName:"Nav.NavMenuItemWrapper",props:{menuItem:{required:!0,tsType:{name:"ImenuItem"},description:""},isSubMenu:{required:!0,tsType:{name:"boolean"},description:""},isInnerSubMenu:{required:!0,tsType:{name:"boolean"},description:""}}};const P=e=>e.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-"),h=({submenu:e,isSubMenu:r,isInnerSubMenu:t,id:a})=>s.jsx("ul",{id:P(a),className:t?"cu-nav__inner-submenu hidden w-full overflow-hidden bg-cu-black-50/35":"cu-nav__submenu hidden absolute left-0 max-w-xs w-64 overflow-hidden bg-white border rounded shadow-lg border-cu-black-100",children:e.map((n,c)=>s.jsx(b,{menuItem:n,isSubMenu:r,isInnerSubMenu:!!n.submenu},c))});h.displayName="Nav.NavSubMenu";h.__docgenInfo={description:"",methods:[],displayName:"Nav.NavSubMenu",props:{submenu:{required:!0,tsType:{name:"Array",elements:[{name:"ImenuItem"}],raw:"ImenuItem[]"},description:""},isSubMenu:{required:!0,tsType:{name:"boolean"},description:""},isInnerSubMenu:{required:!0,tsType:{name:"boolean"},description:""},id:{required:!0,tsType:{name:"string"},description:""}}};const p={listItemLink:"text-[15px] md:text-base font-medium text-cu-black-600 hover:text-cu-red-700 cursor-pointer"},j=({menu:e,LoggedInUser:r,LoggedOutUser:t,LoggedMenu:a,userNoImage:n,children:c,LoggedInLink:m,onClickHandler:o})=>{const d=y();return s.jsxs("div",{className:"flex items-center gap-5 ml-auto cu-nav__aside sm:gap-6",children:[c,e&&s.jsx(C,{children:e.map((u,T)=>s.jsx(d,{href:u.href,className:`cu-button cu-button--${u.buttonColor} cu-button--small`,children:u.title},T))}),t&&s.jsx("ul",{className:"flex items-center gap-5 py-1 pl-5 sm:gap-6 sm:pl-6 "+(c?"border-l border-solid border-cu-black-100":""),children:s.jsx("li",{children:o?s.jsx("a",{onClick:o,className:p.listItemLink,children:"Login"}):s.jsx(d,{href:m||"/",className:p.listItemLink,children:"Login"})})}),r?a?s.jsx("ul",{className:"flex items-center gap-5 py-1 pl-5 sm:gap-6 sm:pl-6 "+(c?"border-l border-solid border-cu-black-100":""),children:s.jsxs("li",{className:v.menuWrapper,children:[s.jsx("div",{className:i.navItemWrapper,role:"navigation","data-menu-item":"profile",children:o?s.jsx("a",{onClick:o,className:i.navParentItem,children:s.jsx(L,{user:n,size:"xs",isCircle:!0})}):s.jsx("div",{className:i.navParentItem,children:s.jsx(L,{user:n,size:"xs",isCircle:!0})})}),s.jsx(h,{submenu:a,isSubMenu:!0,isInnerSubMenu:!1,id:"profile"})]})}):s.jsx("ul",{className:"flex items-center gap-5 py-1 pl-5 sm:gap-6 sm:pl-6 "+(c?"border-l border-solid border-cu-black-100":""),children:s.jsx("li",{children:o?s.jsx("a",{onClick:o,className:p.listItemLink,children:"Logout"}):s.jsx(d,{href:"/",className:p.listItemLink,children:"Logout"})})}):s.jsx(s.Fragment,{})]})};j.displayName="Nav.Aside";j.__docgenInfo={description:"",methods:[],displayName:"Nav.Aside"};const k=({children:e})=>s.jsx("div",{className:"cu-nav__primary flex items-center justify-center gap-4 lg:gap-8 grow max-sm:py-3.5 max-sm:w-[calc(100%+40px)] max-sm:-mx-[20px] max-sm:px-[20px] max-sm:bg-cu-black-25 max-sm:border-t max-sm:border-t-cu-black-100 sm:border-0",children:e});k.displayName="Nav.Primary";k.__docgenInfo={description:"",methods:[],displayName:"Nav.Primary"};const _=({children:e})=>s.jsx("div",{className:"cu-nav__secondary bg-cu-black-25 border-t border-t-cu-black-100 border-b border-b-cu-black-100 w-[calc(100%+40px)] md:w-[calc(100%+64px)] -mx-[20px] md:-mx-[32px] px-[20px] md:px-[2rem] py-2.5",children:s.jsx("div",{className:"flex gap-6",children:e})});_.displayName="Nav.Secondary";_.__docgenInfo={description:"",methods:[],displayName:"Nav.Secondary"};const S=({menu:e})=>s.jsx(s.Fragment,{children:s.jsx("div",{className:"flex items-center grow",children:s.jsx("ul",{className:"flex items-center gap-4 cu-nav__menu",children:e.map((r,t)=>s.jsx(b,{menuItem:r,isSubMenu:!1,isInnerSubMenu:!1},t))})})});S.displayName="Nav.Menu";S.__docgenInfo={description:"",methods:[],displayName:"Nav.Menu",props:{menu:{required:!0,tsType:{name:"Array",elements:[{name:"ImenuItem"}],raw:"ImenuItem[]"},description:""}}};const l="after:!rotate-[225deg]",f="bg-cu-black-50/35",g=".cu-nav__parent-item",x=".cu-nav__inner-submenu-toggle",W=e=>{const r=e.getBoundingClientRect(),t=document.body.getBoundingClientRect();return r.left<t.left||r.right>t.right},M=()=>{const e=document.querySelectorAll(g);e&&e.forEach(r=>{const t=r.parentElement;if(t){const a=t.nextElementSibling;a&&(a.style.display="none",a.style.removeProperty("left"),a.style.removeProperty("right"),t.setAttribute("aria-expanded","false"),r.classList.remove(l))}}),z()},z=()=>{const e=document.querySelectorAll(x);e&&e.forEach(t=>{t.classList.remove(l),t.classList.remove(f)});const r=document.querySelectorAll(".cu-nav__inner-submenu");r&&r.forEach(t=>{t&&t.classList.add("hidden")})},I=e=>{const r=e.parentElement;if(r){const t=r.nextElementSibling,a=e.getAttribute("aria-expanded")==="true",n=e.querySelector(x);t&&(a?(t.style.display="none",t.style.removeProperty("left"),t.style.removeProperty("right"),e.classList.remove(l),r.setAttribute("aria-expanded","false"),n&&n.classList.remove(l)):(M(),t.style.display="block",n&&n.classList.add(l),W(t)&&(t.style.left="unset",t.style.right="0"),e.classList.add(l),r.setAttribute("aria-expanded","true")))}},B=e=>{var a;const r=e.parentElement,t=(a=r==null?void 0:r.dataset)==null?void 0:a.menuItem;if(t){const n=document.getElementById(t);n&&(n.classList.contains("hidden")?(n.classList.remove("hidden"),r.setAttribute("aria-expanded","true"),e.classList.add(l),e.classList.add(f)):(n.classList.add("hidden"),r.setAttribute("aria-expanded","false"),e.classList.remove(l),e.classList.remove(f)))}},F=()=>{const e=document.querySelectorAll(g);e&&e.forEach(t=>{t.addEventListener("click",a=>{a.preventDefault();const n=a.target;n instanceof HTMLElement&&I(n)})});const r=document.querySelectorAll(x);r&&r.forEach(t=>{t.addEventListener("click",a=>{a.preventDefault();const n=a.target;n&&B(n)})}),document.addEventListener("click",t=>{const a=t.target;if(a){const n=a.parentElement;n!=null&&n.classList.contains("cu-nav__parent-item")?I(n):!a.matches(g)&&!a.matches(x)&&M()}})},R=()=>{const e=document.querySelector(".cu-header");if(e){const r=document.querySelector(".cu-nav--primary"),t=document.querySelector(".cu-nav--secondary"),a=document.querySelector(".cu-nav__top"),n=e.offsetHeight;let c=0;addEventListener("scroll",()=>{const m=window.innerWidth,o=window.scrollY,d=o>c&&o>n;if(a){const u=a.offsetHeight;(t||m<=640&&r)&&(d?e.style.top="-"+u+"px":e.style.top="0px")}c=o})}},A=({navType:e,children:r})=>(q.useEffect(()=>{F(),R()},[]),s.jsx("header",{className:`cu-header border-t-2 border-t-cu-red px-5 sm:px-8 sticky top-0 z-40 duration-300 ease-in-out bg-white transition-top ${e!="secondary"?"border-b border-b-cu-black-100":""}`,children:s.jsx("nav",{className:`cu-nav--${e} cu-nav max-w-screen-2xl mx-auto flex flex-wrap items-center gap-x-8 ${e!="secondary"?"sm:flex-nowrap":""}`,children:r})})),H=Object.assign(A,{Logo:N,Aside:j,Primary:k,Secondary:_,Menu:S});A.__docgenInfo={description:"",methods:[],displayName:"NavWrapper",props:{navType:{required:!1,tsType:{name:"union",raw:"'primary' | 'secondary'",elements:[{name:"literal",value:"'primary'"},{name:"literal",value:"'secondary'"}]},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""}}};export{H as N};
