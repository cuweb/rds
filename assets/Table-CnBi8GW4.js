import{j as r}from"./jsx-runtime-Cf8x2fCZ.js";import{r as m}from"./index-DDmFEvuO.js";import{I as g}from"./Icon-BgN7k367.js";const b={tableGlobal:"p-3 md:p-4 text-left align-text-top",tableHeaderRow:"font-semibold text-sm md:text-base",tableBodyRow:"text-sm md:text-base",borders:"border-b border-cu-black-100 last:border-none",striped:"odd:bg-white even:bg-cu-black-25"},j=({columns:n,noWordBreak:l,sortData:a})=>{const[d,t]=m.useState(!0),[i,p]=m.useState(""),c=l?"whitespace-nowrap":"",o=e=>{const f=e;let y=!0;e===i&&(y=!d),p(f),t(y),a(f,y)},u=m.useRef(!1);m.useEffect(()=>{if(!u.current){const e=n.find(f=>f.default);e&&(p(e.key),t((e==null?void 0:e.order)==="ascending"),a(e.key,(e==null?void 0:e.order)==="ascending")),u.current=!0}},[n,a]);const s=n.map((e,f)=>{var h,w,T,x,k;const y=(h=e==null?void 0:e.sort)!=null&&h.sortable?"hover:cursor-pointer":"hover:cursor-auto";return r.jsx("th",{scope:"col",className:`${b.tableGlobal} ${b.tableHeaderRow} ${y} ${c} `,onClick:()=>{var v;return(v=e==null?void 0:e.sort)!=null&&v.sortable?o(e.key):void 0},"aria-sort":e.key===i&&d?"descending":e.key===i&&!d?"ascending":void 0,children:(w=e.sort)!=null&&w.sortable?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{children:e.header}),e.key===i&&d?r.jsx("button",{className:"block w-4 h-full ml-2","aria-label":(T=e==null?void 0:e.sort)!=null&&T.sortable?"Sort "+e.key+" by ascending order":void 0,children:r.jsx(g,{name:"chevron-down",size:16,color:"#808080",className:"inline-block","aria-hidden":"true"})}):e.key===i&&!d?r.jsx("button",{className:"block w-4 h-full ml-2","aria-label":(x=e==null?void 0:e.sort)!=null&&x.sortable?"Sort "+e.key+" by descending order":void 0,children:r.jsx(g,{name:"chevron-up",size:16,color:"#808080",className:"inline-block","aria-hidden":"true"})}):r.jsx("button",{className:"block w-4 h-full ml-2","aria-label":(k=e==null?void 0:e.sort)!=null&&k.sortable?"Sort by "+e.key:void 0,children:r.jsx(g,{name:"chevron-up-down",size:16,color:"#808080",className:"inline-block","aria-hidden":"true"})})]}):e.header},`headerCell-${f}`)});return r.jsx("thead",{className:"border-b border-cu-black-200 bg-cu-black-50",children:r.jsx("tr",{children:s})})};j.__docgenInfo={description:"",methods:[],displayName:"TableHeader",props:{columns:{required:!0,tsType:{name:"Array",elements:[{name:"ColumnDefinitionType"}],raw:"ColumnDefinitionType[]"},description:""},noWordBreak:{required:!0,tsType:{name:"boolean"},description:""},sortData:{required:!0,tsType:{name:"signature",type:"function",raw:"(a: string, s: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"a"},{type:{name:"boolean"},name:"s"}],return:{name:"void"}}},description:""}}};const S=({data:n,columns:l,striped:a,enableRowHeader:d})=>{const t=a?`${b.striped} ${b.borders}`:b.borders,i=n.map((p,c)=>r.jsx("tr",{className:t,children:l.map((o,u)=>{const s=p[o.key];return d&&u==0?r.jsx("th",{scope:"row",className:`${b.tableGlobal} ${b.tableBodyRow}`,children:s},`cell-${u}`):r.jsx("td",{className:`${b.tableGlobal} ${b.tableBodyRow}`,children:s},`cell-${u}`)})},`row-${c}`));return r.jsx("tbody",{children:i})};S.__docgenInfo={description:"",methods:[],displayName:"TableRows",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  [k: string]: string | number | JSX.Element
}`,signature:{properties:[{key:{name:"string"},value:{name:"union",raw:"string | number | JSX.Element",elements:[{name:"string"},{name:"number"},{name:"JSX.Element"}],required:!0}}]}}],raw:`{
  [k: string]: string | number | JSX.Element
}[]`},description:""},columns:{required:!0,tsType:{name:"Array",elements:[{name:"ColumnDefinitionType"}],raw:"ColumnDefinitionType[]"},description:""},striped:{required:!0,tsType:{name:"boolean"},description:""},range:{required:!0,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:""},enableRowHeader:{required:!0,tsType:{name:"boolean"},description:""}}};const q=n=>{const[l,a]=m.useState(n);return m.useEffect(()=>{a(n)},[n]),[l,(t,i)=>{if(t){const p=[...l].sort((c,o)=>c[t]===null?1:o[t]===null?-1:c[t]===null&&o[t]===null?0:c[t].toString().localeCompare(o[t].toString(),"en",{numeric:!0})*(i?1:-1));a(p)}}]},N=({data:n,colgroup:l,columns:a,hasStripes:d=!1,noWordBreak:t=!1,range:i=[1,-1],enableRowHeader:p=!1})=>{const[c,o]=q(n),u=m.useRef(!1);return m.useEffect(()=>{if(!u.current){const s=a.find(e=>e.default);s&&o(s.key,(s==null?void 0:s.order)==="ascending"),u.current=!0}},[a,o]),r.jsx("div",{className:"cu-table cu-component-updated not-prose overflow-x-auto overflow-y-hidden rounded-lg shadow-lg",children:r.jsxs("table",{className:`min-w-full ${l?"table-fixed lg:w-full":"table-auto"}`,children:[l&&r.jsx("colgroup",{children:l.map((s,e)=>r.jsx("col",{style:{width:`${s}%`}},`col-${e}`))}),r.jsx(j,{columns:a,noWordBreak:t,sortData:o}),r.jsx(S,{data:c,columns:a,striped:d,range:i,enableRowHeader:p})]})})};N.__docgenInfo={description:"",methods:[],displayName:"Table",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  [k: string]: string | number | JSX.Element
}`,signature:{properties:[{key:{name:"string"},value:{name:"union",raw:"string | number | JSX.Element",elements:[{name:"string"},{name:"number"},{name:"JSX.Element"}],required:!0}}]}}],raw:`{
  [k: string]: string | number | JSX.Element
}[]`},description:""},colgroup:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:""},columns:{required:!0,tsType:{name:"Array",elements:[{name:"ColumnDefinitionType"}],raw:"ColumnDefinitionType[]"},description:""},hasStripes:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},noWordBreak:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},range:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:"",defaultValue:{value:"[1, -1]",computed:!1}},enableRowHeader:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};export{N as T};
