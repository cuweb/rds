import{j as t}from"./jsx-runtime-Cf8x2fCZ.js";import{r as c}from"./index-DDmFEvuO.js";import{S as T}from"./chevron-left-tazvG442.js";import{S as C}from"./chevron-right-BkTLWz6e.js";import{B as q}from"./Button-ONf9ZU8q.js";import{B as O}from"./ButtonGroup-BemJm4Dh.js";import{s as I,e as B}from"./startOfToday-Cy5rH-mn.js";import{f as o}from"./format-BDD0as5c.js";import{p as A}from"./parse-CXxdJvFO.js";import{e as G,i as $,g as E}from"./isBefore-7pHfX-56.js";import{i as m,a as b}from"./isToday-BCVIkF8O.js";import{i as n}from"./isSameDay-C9OCNg_L.js";import{i as y}from"./isSameMonth-aULO67Zy.js";import{p as U}from"./parseISO-Z6eZh0wm.js";const d={prevNextArrows:"flex items-center justify-center flex-none p-2 text-cu-black-800 hover:text-cu-red",calendarGrid:"grid grid-cols-7 gap-px mt-4 text-center"},v=(...l)=>l.filter(Boolean).join(" "),R=({events:l,callback:x,defaultDate:h})=>{const g=I(),[s,a]=c.useState(h?[new Date(h)]:[]),[j,p]=c.useState(o(g,"MMM-yyyy")),[M,f]=c.useState(!1),i=A(j,"MMM-yyyy",new Date),D=["","col-start-2","col-start-3","col-start-4","col-start-5","col-start-6","col-start-7"],N=B({start:i,end:G(i)}),S=()=>{const e=b(i,{months:-1});p(o(e,"MMM-yyyy"))},w=()=>{const e=b(i,{months:1});p(o(e,"MMM-yyyy"))};return c.useEffect(()=>{x(s)},[s,x]),t.jsxs("div",{className:"cu-calendar cu-component-updated not-prose",children:[t.jsxs("div",{className:"flex items-center py-2 mb-6 bg-white border rounded-lg border-cu-black-100",children:[t.jsxs("button",{type:"button",onClick:S,className:`${d.prevNextArrows}`,children:[t.jsx("span",{className:"text-base sr-only",children:"Previous month"}),t.jsx(T,{className:"w-5 h-5","aria-hidden":"true"})]}),t.jsx("h2",{className:"flex-auto text-base font-semibold text-center text-cu-black-900",children:o(i,"MMMM yyyy")}),t.jsxs("button",{onClick:w,type:"button",className:`${d.prevNextArrows}`,children:[t.jsx("span",{className:"text-base sr-only",children:"Next month"}),t.jsx(C,{className:"w-5 h-5","aria-hidden":"true"})]})]}),t.jsxs("div",{className:`${d.calendarGrid} text-xs text-cu-black-600`,children:[t.jsx("div",{children:"S"}),t.jsx("div",{children:"M"}),t.jsx("div",{children:"T"}),t.jsx("div",{children:"W"}),t.jsx("div",{children:"T"}),t.jsx("div",{children:"F"}),t.jsx("div",{children:"S"})]}),t.jsx("div",{className:`${d.calendarGrid} cu-component isolate overflow-hidden rounded-lg border border-cu-black-100 bg-cu-black-50 text-sm`,children:N.map((e,k)=>t.jsxs("div",{className:v(k===0&&D[E(e)],"bg-white py-2"),children:[t.jsx("button",{type:"button",disabled:$(e,g),onClick:()=>{s.map(u=>u.toISOString()).includes(e.toISOString())?a(s.filter(u=>!n(u,e))):s.length>=2?e.getTime()<s[0].getTime()?a([e,s[0]]):e.getTime()>s[0].getTime()&&a([s[0],e]):s.length===0||s[0].getTime()<e.getTime()?a([...s,e]):a([e,...s]),f(!0)},className:v(s.some(r=>n(r,e))&&"selected",s.length===2&&e.getTime()>=s[0].getTime()&&e.getTime()<=s[1].getTime()&&"bg-cu-red text-white",!s.some(r=>n(r,e))&&m(e)&&"text-cu-red",!s.some(r=>n(r,e))&&y(e,i)&&"text-cu-black-900",!s.some(r=>n(r,e))&&!y(e,i)&&"text-cu-black-400",s.some(r=>n(r,e))&&m(e)&&"bg-cu-red",s.some(r=>n(r,e))&&!m(e)&&"bg-cu-red text-white",!s.some(r=>n(r,e))&&"hover:bg-cu-red hover:text-white",m(e)||s.some(r=>n(r,e))&&"font-semibold","mx-auto flex h-8 w-8 items-center justify-center rounded-full disabled:bg-cu-black-50 disabled:text-cu-black-900"),children:t.jsx("time",{dateTime:o(e,"yyyy-MM-dd"),children:o(e,"d")})}),t.jsx("div",{className:"w-1 h-1 mx-auto mt-1",children:(l==null?void 0:l.some(r=>n(U(r.startDatetime),e)))&&t.jsx("div",{className:"w-1 h-1 rounded-full bg-cu-red"})})]},e.toString()))}),M&&t.jsx(O,{align:"center",children:t.jsx(q,{title:"Clear Calendar",isSmall:!0,onClick:()=>{a([]),f(!1)}})})]})};R.__docgenInfo={description:"",methods:[],displayName:"MultiDayCalendar",props:{events:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: number
  name: string
  imageUrl: string
  startDatetime: string
  endDatetime: string
}`,signature:{properties:[{key:"id",value:{name:"number",required:!0}},{key:"name",value:{name:"string",required:!0}},{key:"imageUrl",value:{name:"string",required:!0}},{key:"startDatetime",value:{name:"string",required:!0}},{key:"endDatetime",value:{name:"string",required:!0}}]}}],raw:`{
  id: number
  name: string
  imageUrl: string
  startDatetime: string
  endDatetime: string
}[]`},description:""},callback:{required:!0,tsType:{name:"signature",type:"function",raw:"(selectedDays: Date[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"Date"}],raw:"Date[]"},name:"selectedDays"}],return:{name:"void"}}},description:""},defaultDate:{required:!1,tsType:{name:"string"},description:""}}};export{R as M};
