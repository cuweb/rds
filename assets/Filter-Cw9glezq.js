import{j as b}from"./jsx-runtime-Nms4Y4qS.js";import{r as o,R as h}from"./index-BwDkhjyp.js";import{u as Gt}from"./useLinkContext-Bz4KtVj9.js";import{f as dt,X as fe,I as me}from"./transition-Dz38N29t.js";import{x as Te,E as Re,o as R,n as oe,T as ue,s as se,u as De,a as Kt,P as J,F as H,m as Ce,I as ne,c as Qt,r as we,b as de,w as Wt,e as pt,y as ft,d as Me,f as Ne,U as mt,l as lt,t as je,J as zt,$ as Be,g as Le,h as _e,i as Oe,j as be,v as vt,k as Yt,p as bt,q as gt,R as ht,z as yt,A as Jt,B as xt,C as Zt,D as Pt,G as Xt,H as It,K as St,L as V,M as en,N as Et,O as $e,_ as tn,Q as Ae,S as nn}from"./portal-DP9i2tGJ.js";import{n as le,o as $,W as j,y as U,l as wt,b as G,p as $t,H as L,d as kt,M as te,u as ie,i as q,a as He,e as qe,T as Ft,c as Ue,I as Ve,D as ae,V as ge,A as he,f as rn,s as at}from"./use-server-handoff-complete-DpV5tE3Q.js";import{F as ke}from"./ChevronDownIcon-gc4pqSrO.js";import{r as ce}from"./index-Drt3gf4w.js";let ln=o.createContext(()=>{});function Ge({value:e,children:t}){return h.createElement(ln.Provider,{value:e},t)}function an(e,t=typeof document<"u"?document.defaultView:null,n){let a=Te(e,"escape");Re(t,"keydown",r=>{a&&(r.defaultPrevented||r.key===R.Escape&&n(r))})}function on(){var e;let[t]=o.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,a]=o.useState((e=t==null?void 0:t.matches)!=null?e:!1);return le(()=>{if(!t)return;function r(s){a(s.matches)}return t.addEventListener("change",r),()=>t.removeEventListener("change",r)},[t]),n}function Tt({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let a=oe(n),r=$(()=>{var s,d;let l=[];for(let u of e)u!==null&&(u instanceof HTMLElement?l.push(u):"current"in u&&u.current instanceof HTMLElement&&l.push(u.current));if(t!=null&&t.current)for(let u of t.current)l.push(u);for(let u of(s=a==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?s:[])u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u.id!=="headlessui-portal-root"&&(n&&(u.contains(n)||u.contains((d=n==null?void 0:n.getRootNode())==null?void 0:d.host))||l.some(m=>u.contains(m))||l.push(u));return l});return{resolveContainers:r,contains:$(s=>r().some(d=>d.contains(s)))}}let Rt=o.createContext(null);function ve({children:e,node:t}){let[n,a]=o.useState(null),r=Ke(t??n);return h.createElement(Rt.Provider,{value:r},e,r===null&&h.createElement(ue,{features:se.Hidden,ref:s=>{var d,l;if(s){for(let u of(l=(d=De(s))==null?void 0:d.querySelectorAll("html > *, body > *"))!=null?l:[])if(u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u!=null&&u.contains(s)){a(u);break}}}}))}function Ke(e=null){var t;return(t=o.useContext(Rt))!=null?t:e}var z=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(z||{});function Qe(){let e=o.useRef(0);return Kt(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function Dt(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let un="div";var re=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(re||{});function sn(e,t){let n=o.useRef(null),a=U(n,t),{initialFocus:r,initialFocusFallback:s,containers:d,features:l=15,...u}=e;wt()||(l=0);let m=oe(n);fn(l,{ownerDocument:m});let i=mn(l,{ownerDocument:m,container:n,initialFocus:r,initialFocusFallback:s});vn(l,{ownerDocument:m,container:n,containers:d,previousActiveElement:i});let S=Qe(),c=$(g=>{let I=n.current;I&&(k=>k())(()=>{G(S.current,{[z.Forwards]:()=>{J(I,H.First,{skipElements:[g.relatedTarget,s]})},[z.Backwards]:()=>{J(I,H.Last,{skipElements:[g.relatedTarget,s]})}})})}),v=Te(!!(l&2),"focus-trap#tab-lock"),P=$t(),p=o.useRef(!1),f={ref:a,onKeyDown(g){g.key=="Tab"&&(p.current=!0,P.requestAnimationFrame(()=>{p.current=!1}))},onBlur(g){if(!(l&4))return;let I=Dt(d);n.current instanceof HTMLElement&&I.add(n.current);let k=g.relatedTarget;k instanceof HTMLElement&&k.dataset.headlessuiFocusGuard!=="true"&&(Ct(I,k)||(p.current?J(n.current,G(S.current,{[z.Forwards]:()=>H.Next,[z.Backwards]:()=>H.Previous})|H.WrapAround,{relativeTo:g.target}):g.target instanceof HTMLElement&&ne(g.target)))}};return h.createElement(h.Fragment,null,v&&h.createElement(ue,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:se.Focusable}),L({ourProps:f,theirProps:u,defaultTag:un,name:"FocusTrap"}),v&&h.createElement(ue,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:se.Focusable}))}let cn=j(sn),dn=Object.assign(cn,{features:re});function pn(e=!0){let t=o.useRef(we.slice());return Ce(([n],[a])=>{a===!0&&n===!1&&kt(()=>{t.current.splice(0)}),a===!1&&n===!0&&(t.current=we.slice())},[e,we,t]),$(()=>{var n;return(n=t.current.find(a=>a!=null&&a.isConnected))!=null?n:null})}function fn(e,{ownerDocument:t}){let n=!!(e&8),a=pn(n);Ce(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&ne(a())},[n]),Qt(()=>{n&&ne(a())})}function mn(e,{ownerDocument:t,container:n,initialFocus:a,initialFocusFallback:r}){let s=o.useRef(null),d=Te(!!(e&1),"focus-trap#initial-focus"),l=dt();return Ce(()=>{if(e===0)return;if(!d){r!=null&&r.current&&ne(r.current);return}let u=n.current;u&&kt(()=>{if(!l.current)return;let m=t==null?void 0:t.activeElement;if(a!=null&&a.current){if((a==null?void 0:a.current)===m){s.current=m;return}}else if(u.contains(m)){s.current=m;return}if(a!=null&&a.current)ne(a.current);else{if(e&16){if(J(u,H.First|H.AutoFocus)!==de.Error)return}else if(J(u,H.First)!==de.Error)return;if(r!=null&&r.current&&(ne(r.current),(t==null?void 0:t.activeElement)===r.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=t==null?void 0:t.activeElement})},[r,d,e]),s}function vn(e,{ownerDocument:t,container:n,containers:a,previousActiveElement:r}){let s=dt(),d=!!(e&4);Re(t==null?void 0:t.defaultView,"focus",l=>{if(!d||!s.current)return;let u=Dt(a);n.current instanceof HTMLElement&&u.add(n.current);let m=r.current;if(!m)return;let i=l.target;i&&i instanceof HTMLElement?Ct(u,i)?(r.current=i,ne(i)):(l.preventDefault(),l.stopPropagation(),ne(m)):ne(r.current)},!0)}function Ct(e,t){for(let n of e)if(n.contains(t))return!0;return!1}var bn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(bn||{}),gn=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(gn||{});let hn={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},We=o.createContext(null);We.displayName="DialogContext";function ye(e){let t=o.useContext(We);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ye),n}return t}function yn(e,t){return G(t.type,hn,e,t)}let ot=j(function(e,t){let n=o.useId(),{id:a=`headlessui-dialog-${n}`,open:r,onClose:s,initialFocus:d,role:l="dialog",autoFocus:u=!0,__demoMode:m=!1,unmount:i=!1,...S}=e,c=o.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(c.current||(c.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let v=ie();r===void 0&&v!==null&&(r=(v&q.Open)===q.Open);let P=o.useRef(null),p=U(P,t),f=oe(P),g=r?0:1,[I,k]=o.useReducer(yn,{titleId:null,descriptionId:null,panelRef:o.createRef()}),M=$(()=>s(!1)),_=$(E=>k({type:0,id:E})),C=wt()?g===0:!1,[F,B]=pt(),T={get current(){var E;return(E=I.panelRef.current)!=null?E:P.current}},D=Ke(),{resolveContainers:O}=Tt({mainTreeNode:D,portals:F,defaultContainers:[T]}),Y=v!==null?(v&q.Closing)===q.Closing:!1;ft(m||Y?!1:C,{allowed:$(()=>{var E,N;return[(N=(E=P.current)==null?void 0:E.closest("[data-headlessui-portal]"))!=null?N:null]}),disallowed:$(()=>{var E;return[(E=D==null?void 0:D.closest("body > *:not(#headlessui-portal-root)"))!=null?E:null]})}),Me(C,O,E=>{E.preventDefault(),M()}),an(C,f==null?void 0:f.defaultView,E=>{E.preventDefault(),E.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),M()}),Ne(m||Y?!1:C,f,O),He(C,P,M);let[Q,W]=mt(),w=o.useMemo(()=>[{dialogState:g,close:M,setTitleId:_,unmount:i},I],[g,I,M,_,i]),Z=o.useMemo(()=>({open:g===0}),[g]),X={ref:p,id:a,role:l,tabIndex:-1,"aria-modal":m?void 0:g===0?!0:void 0,"aria-labelledby":I.titleId,"aria-describedby":Q,unmount:i},x=!on(),y=re.None;return C&&!m&&(y|=re.RestoreFocus,y|=re.TabLock,u&&(y|=re.AutoFocus),x&&(y|=re.InitialFocus)),h.createElement(qe,null,h.createElement(lt,{force:!0},h.createElement(je,null,h.createElement(We.Provider,{value:w},h.createElement(zt,{target:P},h.createElement(lt,{force:!1},h.createElement(W,{slot:Z},h.createElement(B,null,h.createElement(dn,{initialFocus:d,initialFocusFallback:P,containers:O,features:y},h.createElement(Ge,{value:M},L({ourProps:X,theirProps:S,slot:Z,defaultTag:xn,features:Pn,visible:g===0,name:"Dialog"})))))))))))}),xn="div",Pn=te.RenderStrategy|te.Static;function In(e,t){let{transition:n=!1,open:a,...r}=e,s=ie(),d=e.hasOwnProperty("open")||s!==null,l=e.hasOwnProperty("onClose");if(!d&&!l)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!d)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(a!==void 0||n)&&!r.static?h.createElement(ve,null,h.createElement(fe,{show:a,transition:n,unmount:r.unmount},h.createElement(ot,{ref:t,...r}))):h.createElement(ve,null,h.createElement(ot,{ref:t,open:a,...r}))}let Sn="div";function En(e,t){let n=o.useId(),{id:a=`headlessui-dialog-panel-${n}`,transition:r=!1,...s}=e,[{dialogState:d,unmount:l},u]=ye("Dialog.Panel"),m=U(t,u.panelRef),i=o.useMemo(()=>({open:d===0}),[d]),S=$(v=>{v.stopPropagation()}),c={ref:m,id:a,onClick:S};return h.createElement(r?me:o.Fragment,{...r?{unmount:l}:{}},L({ourProps:c,theirProps:s,slot:i,defaultTag:Sn,name:"Dialog.Panel"}))}let wn="div";function $n(e,t){let{transition:n=!1,...a}=e,[{dialogState:r,unmount:s}]=ye("Dialog.Backdrop"),d=o.useMemo(()=>({open:r===0}),[r]),l={ref:t,"aria-hidden":!0};return h.createElement(n?me:o.Fragment,{...n?{unmount:s}:{}},L({ourProps:l,theirProps:a,slot:d,defaultTag:wn,name:"Dialog.Backdrop"}))}let kn="h2";function Fn(e,t){let n=o.useId(),{id:a=`headlessui-dialog-title-${n}`,...r}=e,[{dialogState:s,setTitleId:d}]=ye("Dialog.Title"),l=U(t);o.useEffect(()=>(d(a),()=>d(null)),[a,d]);let u=o.useMemo(()=>({open:s===0}),[s]);return L({ourProps:{ref:l,id:a},theirProps:r,slot:u,defaultTag:kn,name:"Dialog.Title"})}let Tn=j(In),Mt=j(En);j($n);let Rn=j(Fn),Dn=Object.assign(Tn,{Panel:Mt,Title:Rn,Description:Wt});var ut;let Cn=(ut=h.startTransition)!=null?ut:function(e){e()};var Mn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Mn||{}),Nn=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e))(Nn||{});let jn={0:e=>({...e,disclosureState:G(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},4(e){return e.linkedPanel===!0?e:{...e,linkedPanel:!0}},5(e){return e.linkedPanel===!1?e:{...e,linkedPanel:!1}},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},ze=o.createContext(null);ze.displayName="DisclosureContext";function Ye(e){let t=o.useContext(ze);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ye),n}return t}let Je=o.createContext(null);Je.displayName="DisclosureAPIContext";function Nt(e){let t=o.useContext(Je);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Nt),n}return t}let Ze=o.createContext(null);Ze.displayName="DisclosurePanelContext";function Bn(){return o.useContext(Ze)}function Ln(e,t){return G(t.type,jn,e,t)}let _n=o.Fragment;function On(e,t){let{defaultOpen:n=!1,...a}=e,r=o.useRef(null),s=U(t,Ft(f=>{r.current=f},e.as===void 0||e.as===o.Fragment)),d=o.useRef(null),l=o.useRef(null),u=o.useReducer(Ln,{disclosureState:n?0:1,linkedPanel:!1,buttonRef:l,panelRef:d,buttonId:null,panelId:null}),[{disclosureState:m,buttonId:i},S]=u,c=$(f=>{S({type:1});let g=De(r);if(!g||!i)return;let I=f?f instanceof HTMLElement?f:f.current instanceof HTMLElement?f.current:g.getElementById(i):g.getElementById(i);I==null||I.focus()}),v=o.useMemo(()=>({close:c}),[c]),P=o.useMemo(()=>({open:m===0,close:c}),[m,c]),p={ref:s};return h.createElement(ze.Provider,{value:u},h.createElement(Je.Provider,{value:v},h.createElement(Ge,{value:c},h.createElement(Ue,{value:G(m,{0:q.Open,1:q.Closed})},L({ourProps:p,theirProps:a,slot:P,defaultTag:_n,name:"Disclosure"})))))}let An="button";function Hn(e,t){let n=o.useId(),{id:a=`headlessui-disclosure-button-${n}`,disabled:r=!1,autoFocus:s=!1,...d}=e,[l,u]=Ye("Disclosure.Button"),m=Bn(),i=m===null?!1:m===l.panelId,S=o.useRef(null),c=U(S,t,i?null:l.buttonRef),v=Ve();o.useEffect(()=>{if(!i)return u({type:2,buttonId:a}),()=>{u({type:2,buttonId:null})}},[a,u,i]);let P=$(D=>{var O;if(i){if(l.disclosureState===1)return;switch(D.key){case R.Space:case R.Enter:D.preventDefault(),D.stopPropagation(),u({type:0}),(O=l.buttonRef.current)==null||O.focus();break}}else switch(D.key){case R.Space:case R.Enter:D.preventDefault(),D.stopPropagation(),u({type:0});break}}),p=$(D=>{switch(D.key){case R.Space:D.preventDefault();break}}),f=$(D=>{var O;be(D.currentTarget)||r||(i?(u({type:0}),(O=l.buttonRef.current)==null||O.focus()):u({type:0}))}),{isFocusVisible:g,focusProps:I}=Be({autoFocus:s}),{isHovered:k,hoverProps:M}=Le({isDisabled:r}),{pressed:_,pressProps:C}=_e({disabled:r}),F=o.useMemo(()=>({open:l.disclosureState===0,hover:k,active:_,disabled:r,focus:g,autofocus:s}),[l,k,_,g,r,s]),B=Oe(e,S),T=i?ae({ref:c,type:B,disabled:r||void 0,autoFocus:s,onKeyDown:P,onClick:f},I,M,C):ae({ref:c,id:a,type:B,"aria-expanded":l.disclosureState===0,"aria-controls":l.linkedPanel?l.panelId:void 0,disabled:r||void 0,autoFocus:s,onKeyDown:P,onKeyUp:p,onClick:f},I,M,C);return L({mergeRefs:v,ourProps:T,theirProps:d,slot:F,defaultTag:An,name:"Disclosure.Button"})}let qn="div",Un=te.RenderStrategy|te.Static;function Vn(e,t){let n=o.useId(),{id:a=`headlessui-disclosure-panel-${n}`,transition:r=!1,...s}=e,[d,l]=Ye("Disclosure.Panel"),{close:u}=Nt("Disclosure.Panel"),m=Ve(),i=U(t,d.panelRef,f=>{Cn(()=>l({type:f?4:5}))});o.useEffect(()=>(l({type:3,panelId:a}),()=>{l({type:3,panelId:null})}),[a,l]);let S=ie(),[c,v]=ge(r,d.panelRef,S!==null?(S&q.Open)===q.Open:d.disclosureState===0),P=o.useMemo(()=>({open:d.disclosureState===0,close:u}),[d.disclosureState,u]),p={ref:i,id:a,...he(v)};return h.createElement(qe,null,h.createElement(Ze.Provider,{value:d.panelId},L({mergeRefs:m,ourProps:p,theirProps:s,slot:P,defaultTag:qn,features:Un,visible:c,name:"Disclosure.Panel"})))}let Gn=j(On),jt=j(Hn),Bt=j(Vn),Kn=Object.assign(Gn,{Button:jt,Panel:Bt});function Qn(e,t){let n=o.useRef({left:0,top:0});if(le(()=>{let r=t.current;if(!r)return;let s=r.getBoundingClientRect();s&&(n.current=s)},[e]),t.current==null||!e||t.current===document.activeElement)return!1;let a=t.current.getBoundingClientRect();return a.top!==n.current.top||a.left!==n.current.left}let st=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function it(e){var t,n;let a=(t=e.innerText)!=null?t:"",r=e.cloneNode(!0);if(!(r instanceof HTMLElement))return a;let s=!1;for(let l of r.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),s=!0;let d=s?(n=r.innerText)!=null?n:"":a;return st.test(d)&&(d=d.replace(st,"")),d}function Wn(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let a=n.split(" ").map(r=>{let s=document.getElementById(r);if(s){let d=s.getAttribute("aria-label");return typeof d=="string"?d.trim():it(s).trim()}return null}).filter(Boolean);if(a.length>0)return a.join(", ")}return it(e).trim()}function zn(e){let t=o.useRef(""),n=o.useRef("");return $(()=>{let a=e.current;if(!a)return"";let r=a.innerText;if(t.current===r)return n.current;let s=Wn(a).trim().toLowerCase();return t.current=r,n.current=s,s})}var Yn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Yn||{}),Jn=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Jn||{}),Zn=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(Zn||{});function Fe(e,t=n=>n){let n=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,a=tn(t(e.items.slice()),s=>s.dataRef.current.domRef.current),r=n?a.indexOf(n):null;return r===-1&&(r=null),{items:a,activeItemIndex:r}}let Xn={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},2:(e,t)=>{var n,a,r,s,d;if(e.menuState===1)return e;let l={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===V.Nothing)return{...l,activeItemIndex:null};if(t.focus===V.Specific)return{...l,activeItemIndex:e.items.findIndex(i=>i.id===t.id)};if(t.focus===V.Previous){let i=e.activeItemIndex;if(i!==null){let S=e.items[i].dataRef.current.domRef,c=$e(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:v=>v.id,resolveDisabled:v=>v.dataRef.current.disabled});if(c!==null){let v=e.items[c].dataRef.current.domRef;if(((a=S.current)==null?void 0:a.previousElementSibling)===v.current||((r=v.current)==null?void 0:r.previousElementSibling)===null)return{...l,activeItemIndex:c}}}}else if(t.focus===V.Next){let i=e.activeItemIndex;if(i!==null){let S=e.items[i].dataRef.current.domRef,c=$e(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:v=>v.id,resolveDisabled:v=>v.dataRef.current.disabled});if(c!==null){let v=e.items[c].dataRef.current.domRef;if(((s=S.current)==null?void 0:s.nextElementSibling)===v.current||((d=v.current)==null?void 0:d.nextElementSibling)===null)return{...l,activeItemIndex:c}}}}let u=Fe(e),m=$e(t,{resolveItems:()=>u.items,resolveActiveIndex:()=>u.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled});return{...l,...u,activeItemIndex:m}},3:(e,t)=>{let n=e.searchQuery!==""?0:1,a=e.searchQuery+t.value.toLowerCase(),r=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(d=>{var l;return((l=d.dataRef.current.textValue)==null?void 0:l.startsWith(a))&&!d.dataRef.current.disabled}),s=r?e.items.indexOf(r):-1;return s===-1||s===e.activeItemIndex?{...e,searchQuery:a}:{...e,searchQuery:a,activeItemIndex:s,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let n=Fe(e,a=>[...a,{id:t.id,dataRef:t.dataRef}]);return{...e,...n}},6:(e,t)=>{let n=Fe(e,a=>{let r=a.findIndex(s=>s.id===t.id);return r!==-1&&a.splice(r,1),a});return{...e,...n,activationTrigger:1}}},Xe=o.createContext(null);Xe.displayName="MenuContext";function xe(e){let t=o.useContext(Xe);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,xe),n}return t}function er(e,t){return G(t.type,Xn,e,t)}let tr=o.Fragment;function nr(e,t){let{__demoMode:n=!1,...a}=e,r=o.useReducer(er,{__demoMode:n,menuState:n?0:1,buttonRef:o.createRef(),itemsRef:o.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:d,buttonRef:l},u]=r,m=U(t);Me(s===0,[l,d],(v,P)=>{var p;u({type:1}),It(P,St.Loose)||(v.preventDefault(),(p=l.current)==null||p.focus())});let i=$(()=>{u({type:1})}),S=o.useMemo(()=>({open:s===0,close:i}),[s,i]),c={ref:m};return h.createElement(vt,null,h.createElement(Xe.Provider,{value:r},h.createElement(Ue,{value:G(s,{0:q.Open,1:q.Closed})},L({ourProps:c,theirProps:a,slot:S,defaultTag:tr,name:"Menu"}))))}let rr="button";function lr(e,t){var n;let a=o.useId(),{id:r=`headlessui-menu-button-${a}`,disabled:s=!1,autoFocus:d=!1,...l}=e,[u,m]=xe("Menu.Button"),i=Yt(),S=U(u.buttonRef,t,bt()),c=$(F=>{switch(F.key){case R.Space:case R.Enter:case R.ArrowDown:F.preventDefault(),F.stopPropagation(),ce.flushSync(()=>m({type:0})),m({type:2,focus:V.First});break;case R.ArrowUp:F.preventDefault(),F.stopPropagation(),ce.flushSync(()=>m({type:0})),m({type:2,focus:V.Last});break}}),v=$(F=>{switch(F.key){case R.Space:F.preventDefault();break}}),P=$(F=>{var B;if(be(F.currentTarget))return F.preventDefault();s||(u.menuState===0?(ce.flushSync(()=>m({type:1})),(B=u.buttonRef.current)==null||B.focus({preventScroll:!0})):(F.preventDefault(),m({type:0})))}),{isFocusVisible:p,focusProps:f}=Be({autoFocus:d}),{isHovered:g,hoverProps:I}=Le({isDisabled:s}),{pressed:k,pressProps:M}=_e({disabled:s}),_=o.useMemo(()=>({open:u.menuState===0,active:k||u.menuState===0,disabled:s,hover:g,focus:p,autofocus:d}),[u,g,p,k,s,d]),C=ae(i(),{ref:S,id:r,type:Oe(e,u.buttonRef),"aria-haspopup":"menu","aria-controls":(n=u.itemsRef.current)==null?void 0:n.id,"aria-expanded":u.menuState===0,disabled:s||void 0,autoFocus:d,onKeyDown:c,onKeyUp:v,onClick:P},f,I,M);return L({ourProps:C,theirProps:l,slot:_,defaultTag:rr,name:"Menu.Button"})}let ar="div",or=te.RenderStrategy|te.Static;function ur(e,t){var n,a;let r=o.useId(),{id:s=`headlessui-menu-items-${r}`,anchor:d,portal:l=!1,modal:u=!0,transition:m=!1,...i}=e,S=gt(d),[c,v]=xe("Menu.Items"),[P,p]=ht(S),f=yt(),g=U(c.itemsRef,t,S?P:null),I=oe(c.itemsRef);S&&(l=!0);let k=ie(),[M,_]=ge(m,c.itemsRef,k!==null?(k&q.Open)===q.Open:c.menuState===0);He(M,c.buttonRef,()=>{v({type:1})});let C=c.__demoMode?!1:u&&c.menuState===0;Ne(C,I);let F=c.__demoMode?!1:u&&c.menuState===0;ft(F,{allowed:$(()=>[c.buttonRef.current,c.itemsRef.current])});let B=c.menuState!==0,T=Qn(B,c.buttonRef)?!1:M;o.useEffect(()=>{let w=c.itemsRef.current;w&&c.menuState===0&&w!==(I==null?void 0:I.activeElement)&&w.focus({preventScroll:!0})},[c.menuState,c.itemsRef,I,c.itemsRef.current]),Jt(c.menuState===0,{container:c.itemsRef.current,accept(w){return w.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:w.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(w){w.setAttribute("role","none")}});let D=$t(),O=$(w=>{var Z,X,x;switch(D.dispose(),w.key){case R.Space:if(c.searchQuery!=="")return w.preventDefault(),w.stopPropagation(),v({type:3,value:w.key});case R.Enter:if(w.preventDefault(),w.stopPropagation(),v({type:1}),c.activeItemIndex!==null){let{dataRef:y}=c.items[c.activeItemIndex];(X=(Z=y.current)==null?void 0:Z.domRef.current)==null||X.click()}Et(c.buttonRef.current);break;case R.ArrowDown:return w.preventDefault(),w.stopPropagation(),v({type:2,focus:V.Next});case R.ArrowUp:return w.preventDefault(),w.stopPropagation(),v({type:2,focus:V.Previous});case R.Home:case R.PageUp:return w.preventDefault(),w.stopPropagation(),v({type:2,focus:V.First});case R.End:case R.PageDown:return w.preventDefault(),w.stopPropagation(),v({type:2,focus:V.Last});case R.Escape:w.preventDefault(),w.stopPropagation(),ce.flushSync(()=>v({type:1})),(x=c.buttonRef.current)==null||x.focus({preventScroll:!0});break;case R.Tab:w.preventDefault(),w.stopPropagation(),ce.flushSync(()=>v({type:1})),en(c.buttonRef.current,w.shiftKey?H.Previous:H.Next);break;default:w.key.length===1&&(v({type:3,value:w.key}),D.setTimeout(()=>v({type:4}),350));break}}),Y=$(w=>{switch(w.key){case R.Space:w.preventDefault();break}}),Q=o.useMemo(()=>({open:c.menuState===0}),[c.menuState]),W=ae(S?f():{},{"aria-activedescendant":c.activeItemIndex===null||(n=c.items[c.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(a=c.buttonRef.current)==null?void 0:a.id,id:s,onKeyDown:O,onKeyUp:Y,role:"menu",tabIndex:c.menuState===0?0:void 0,ref:g,style:{...i.style,...p,"--button-width":xt(c.buttonRef,!0).width},...he(_)});return h.createElement(je,{enabled:l?e.static||M:!1},L({ourProps:W,theirProps:i,slot:Q,defaultTag:ar,features:or,visible:T,name:"Menu.Items"}))}let sr=o.Fragment;function ir(e,t){let n=o.useId(),{id:a=`headlessui-menu-item-${n}`,disabled:r=!1,...s}=e,[d,l]=xe("Menu.Item"),u=d.activeItemIndex!==null?d.items[d.activeItemIndex].id===a:!1,m=o.useRef(null),i=U(t,m);le(()=>{if(!d.__demoMode&&d.menuState===0&&u&&d.activationTrigger!==0)return rn().requestAnimationFrame(()=>{var T,D;(D=(T=m.current)==null?void 0:T.scrollIntoView)==null||D.call(T,{block:"nearest"})})},[d.__demoMode,m,u,d.menuState,d.activationTrigger,d.activeItemIndex]);let S=zn(m),c=o.useRef({disabled:r,domRef:m,get textValue(){return S()}});le(()=>{c.current.disabled=r},[c,r]),le(()=>(l({type:5,id:a,dataRef:c}),()=>l({type:6,id:a})),[c,a]);let v=$(()=>{l({type:1})}),P=$(T=>{if(r)return T.preventDefault();l({type:1}),Et(d.buttonRef.current)}),p=$(()=>{if(r)return l({type:2,focus:V.Nothing});l({type:2,focus:V.Specific,id:a})}),f=Zt(),g=$(T=>{f.update(T),!r&&(u||l({type:2,focus:V.Specific,id:a,trigger:0}))}),I=$(T=>{f.wasMoved(T)&&(r||u||l({type:2,focus:V.Specific,id:a,trigger:0}))}),k=$(T=>{f.wasMoved(T)&&(r||u&&l({type:2,focus:V.Nothing}))}),[M,_]=Pt(),[C,F]=mt(),B=o.useMemo(()=>({active:u,focus:u,disabled:r,close:v}),[u,r,v]);return h.createElement(_,null,h.createElement(F,null,L({ourProps:{id:a,ref:i,role:"menuitem",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,"aria-labelledby":M,"aria-describedby":C,disabled:void 0,onClick:P,onFocus:p,onPointerEnter:g,onMouseEnter:g,onPointerMove:I,onMouseMove:I,onPointerLeave:k,onMouseLeave:k},theirProps:s,slot:B,defaultTag:sr,name:"Menu.Item"})))}let cr="div";function dr(e,t){let[n,a]=Pt();return h.createElement(a,null,L({ourProps:{ref:t,"aria-labelledby":n,role:"group"},theirProps:e,slot:{},defaultTag:cr,name:"Menu.Section"}))}let pr="header";function fr(e,t){let n=o.useId(),{id:a=`headlessui-menu-heading-${n}`,...r}=e,s=Xt();le(()=>s.register(a),[a,s.register]);let d={id:a,ref:t,role:"presentation",...s.props};return L({ourProps:d,theirProps:r,slot:{},defaultTag:pr,name:"Menu.Heading"})}let mr="div";function vr(e,t){return L({ourProps:{ref:t,role:"separator"},theirProps:e,slot:{},defaultTag:mr,name:"Menu.Separator"})}let br=j(nr),Lt=j(lr),_t=j(ur),Ot=j(ir),gr=j(dr),hr=j(fr),yr=j(vr),xr=Object.assign(br,{Button:Lt,Items:_t,Item:Ot,Section:gr,Heading:hr,Separator:yr});var Pr=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Pr||{}),Ir=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(Ir||{});let Sr={0:e=>({...e,popoverState:G(e.popoverState,{0:1,1:0}),__demoMode:!1}),1(e){return e.popoverState===1?e:{...e,popoverState:1,__demoMode:!1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},et=o.createContext(null);et.displayName="PopoverContext";function Pe(e){let t=o.useContext(et);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Pe),n}return t}let Ie=o.createContext(null);Ie.displayName="PopoverAPIContext";function tt(e){let t=o.useContext(Ie);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,tt),n}return t}let nt=o.createContext(null);nt.displayName="PopoverGroupContext";function At(){return o.useContext(nt)}let Se=o.createContext(null);Se.displayName="PopoverPanelContext";function Er(){return o.useContext(Se)}function wr(e,t){return G(t.type,Sr,e,t)}let $r="div";function kr(e,t){var n;let{__demoMode:a=!1,...r}=e,s=o.useRef(null),d=U(t,Ft(x=>{s.current=x})),l=o.useRef([]),u=o.useReducer(wr,{__demoMode:a,popoverState:a?0:1,buttons:l,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:o.createRef(),afterPanelSentinel:o.createRef(),afterButtonSentinel:o.createRef()}),[{popoverState:m,button:i,buttonId:S,panel:c,panelId:v,beforePanelSentinel:P,afterPanelSentinel:p,afterButtonSentinel:f},g]=u,I=oe((n=s.current)!=null?n:i),k=o.useMemo(()=>{if(!i||!c)return!1;for(let A of document.querySelectorAll("body > *"))if(Number(A==null?void 0:A.contains(i))^Number(A==null?void 0:A.contains(c)))return!0;let x=Ae(),y=x.indexOf(i),E=(y+x.length-1)%x.length,N=(y+1)%x.length,K=x[E],ee=x[N];return!c.contains(K)&&!c.contains(ee)},[i,c]),M=at(S),_=at(v),C=o.useMemo(()=>({buttonId:M,panelId:_,close:()=>g({type:1})}),[M,_,g]),F=At(),B=F==null?void 0:F.registerPopover,T=$(()=>{var x;return(x=F==null?void 0:F.isFocusWithinPopoverGroup())!=null?x:(I==null?void 0:I.activeElement)&&((i==null?void 0:i.contains(I.activeElement))||(c==null?void 0:c.contains(I.activeElement)))});o.useEffect(()=>B==null?void 0:B(C),[B,C]);let[D,O]=pt(),Y=Ke(i),Q=Tt({mainTreeNode:Y,portals:D,defaultContainers:[i,c]});Re(I==null?void 0:I.defaultView,"focus",x=>{var y,E,N,K,ee,A;x.target!==window&&x.target instanceof HTMLElement&&m===0&&(T()||i&&c&&(Q.contains(x.target)||(E=(y=P.current)==null?void 0:y.contains)!=null&&E.call(y,x.target)||(K=(N=p.current)==null?void 0:N.contains)!=null&&K.call(N,x.target)||(A=(ee=f.current)==null?void 0:ee.contains)!=null&&A.call(ee,x.target)||g({type:1})))},!0),Me(m===0,Q.resolveContainers,(x,y)=>{g({type:1}),It(y,St.Loose)||(x.preventDefault(),i==null||i.focus())});let W=$(x=>{g({type:1});let y=x?x instanceof HTMLElement?x:"current"in x&&x.current instanceof HTMLElement?x.current:i:i;y==null||y.focus()}),w=o.useMemo(()=>({close:W,isPortalled:k}),[W,k]),Z=o.useMemo(()=>({open:m===0,close:W}),[m,W]),X={ref:d};return h.createElement(ve,{node:Y},h.createElement(vt,null,h.createElement(Se.Provider,{value:null},h.createElement(et.Provider,{value:u},h.createElement(Ie.Provider,{value:w},h.createElement(Ge,{value:W},h.createElement(Ue,{value:G(m,{0:q.Open,1:q.Closed})},h.createElement(O,null,L({ourProps:X,theirProps:r,slot:Z,defaultTag:$r,name:"Popover"})))))))))}let Fr="button";function Tr(e,t){let n=o.useId(),{id:a=`headlessui-popover-button-${n}`,disabled:r=!1,autoFocus:s=!1,...d}=e,[l,u]=Pe("Popover.Button"),{isPortalled:m}=tt("Popover.Button"),i=o.useRef(null),S=`headlessui-focus-sentinel-${o.useId()}`,c=At(),v=c==null?void 0:c.closeOthers,P=Er()!==null;o.useEffect(()=>{if(!P)return u({type:3,buttonId:a}),()=>{u({type:3,buttonId:null})}},[P,a,u]);let[p]=o.useState(()=>Symbol()),f=U(i,t,bt(),P?null:y=>{if(y)l.buttons.current.push(p);else{let E=l.buttons.current.indexOf(p);E!==-1&&l.buttons.current.splice(E,1)}l.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),y&&u({type:2,button:y})}),g=U(i,t),I=oe(i),k=$(y=>{var E,N,K;if(P){if(l.popoverState===1)return;switch(y.key){case R.Space:case R.Enter:y.preventDefault(),(N=(E=y.target).click)==null||N.call(E),u({type:1}),(K=l.button)==null||K.focus();break}}else switch(y.key){case R.Space:case R.Enter:y.preventDefault(),y.stopPropagation(),l.popoverState===1&&(v==null||v(l.buttonId)),u({type:0});break;case R.Escape:if(l.popoverState!==0)return v==null?void 0:v(l.buttonId);if(!i.current||I!=null&&I.activeElement&&!i.current.contains(I.activeElement))return;y.preventDefault(),y.stopPropagation(),u({type:1});break}}),M=$(y=>{P||y.key===R.Space&&y.preventDefault()}),_=$(y=>{var E,N;be(y.currentTarget)||r||(P?(u({type:1}),(E=l.button)==null||E.focus()):(y.preventDefault(),y.stopPropagation(),l.popoverState===1&&(v==null||v(l.buttonId)),u({type:0}),(N=l.button)==null||N.focus()))}),C=$(y=>{y.preventDefault(),y.stopPropagation()}),{isFocusVisible:F,focusProps:B}=Be({autoFocus:s}),{isHovered:T,hoverProps:D}=Le({isDisabled:r}),{pressed:O,pressProps:Y}=_e({disabled:r}),Q=l.popoverState===0,W=o.useMemo(()=>({open:Q,active:O||Q,disabled:r,hover:T,focus:F,autofocus:s}),[Q,T,F,O,r,s]),w=Oe(e,i),Z=P?ae({ref:g,type:w,onKeyDown:k,onClick:_,disabled:r||void 0,autoFocus:s},B,D,Y):ae({ref:f,id:l.buttonId,type:w,"aria-expanded":l.popoverState===0,"aria-controls":l.panel?l.panelId:void 0,disabled:r||void 0,autoFocus:s,onKeyDown:k,onKeyUp:M,onClick:_,onMouseDown:C},B,D,Y),X=Qe(),x=$(()=>{let y=l.panel;if(!y)return;function E(){G(X.current,{[z.Forwards]:()=>J(y,H.First),[z.Backwards]:()=>J(y,H.Last)})===de.Error&&J(Ae().filter(N=>N.dataset.headlessuiFocusGuard!=="true"),G(X.current,{[z.Forwards]:H.Next,[z.Backwards]:H.Previous}),{relativeTo:l.button})}E()});return h.createElement(h.Fragment,null,L({ourProps:Z,theirProps:d,slot:W,defaultTag:Fr,name:"Popover.Button"}),Q&&!P&&m&&h.createElement(ue,{id:S,ref:l.afterButtonSentinel,features:se.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:x}))}let Rr="div",Dr=te.RenderStrategy|te.Static;function Ht(e,t){let n=o.useId(),{id:a=`headlessui-popover-backdrop-${n}`,transition:r=!1,...s}=e,[{popoverState:d},l]=Pe("Popover.Backdrop"),u=o.useRef(null),m=U(t,u),i=ie(),[S,c]=ge(r,u,i!==null?(i&q.Open)===q.Open:d===0),v=$(f=>{if(be(f.currentTarget))return f.preventDefault();l({type:1})}),P=o.useMemo(()=>({open:d===0}),[d]),p={ref:m,id:a,"aria-hidden":!0,onClick:v,...he(c)};return L({ourProps:p,theirProps:s,slot:P,defaultTag:Rr,features:Dr,visible:S,name:"Popover.Backdrop"})}let Cr="div",Mr=te.RenderStrategy|te.Static;function Nr(e,t){let n=o.useId(),{id:a=`headlessui-popover-panel-${n}`,focus:r=!1,anchor:s,portal:d=!1,modal:l=!1,transition:u=!1,...m}=e,[i,S]=Pe("Popover.Panel"),{close:c,isPortalled:v}=tt("Popover.Panel"),P=`headlessui-focus-sentinel-before-${n}`,p=`headlessui-focus-sentinel-after-${n}`,f=o.useRef(null),g=gt(s),[I,k]=ht(g),M=yt();g&&(d=!0);let _=U(f,t,g?I:null,x=>{S({type:4,panel:x})}),C=oe(f),F=Ve();le(()=>(S({type:5,panelId:a}),()=>{S({type:5,panelId:null})}),[a,S]);let B=ie(),[T,D]=ge(u,f,B!==null?(B&q.Open)===q.Open:i.popoverState===0);He(T,i.button,()=>{S({type:1})});let O=i.__demoMode?!1:l&&T;Ne(O,C);let Y=$(x=>{var y;switch(x.key){case R.Escape:if(i.popoverState!==0||!f.current||C!=null&&C.activeElement&&!f.current.contains(C.activeElement))return;x.preventDefault(),x.stopPropagation(),S({type:1}),(y=i.button)==null||y.focus();break}});o.useEffect(()=>{var x;e.static||i.popoverState===1&&((x=e.unmount)==null||x)&&S({type:4,panel:null})},[i.popoverState,e.unmount,e.static,S]),o.useEffect(()=>{if(i.__demoMode||!r||i.popoverState!==0||!f.current)return;let x=C==null?void 0:C.activeElement;f.current.contains(x)||J(f.current,H.First)},[i.__demoMode,r,f.current,i.popoverState]);let Q=o.useMemo(()=>({open:i.popoverState===0,close:c}),[i.popoverState,c]),W=ae(g?M():{},{ref:_,id:a,onKeyDown:Y,onBlur:r&&i.popoverState===0?x=>{var y,E,N,K,ee;let A=x.relatedTarget;A&&f.current&&((y=f.current)!=null&&y.contains(A)||(S({type:1}),((N=(E=i.beforePanelSentinel.current)==null?void 0:E.contains)!=null&&N.call(E,A)||(ee=(K=i.afterPanelSentinel.current)==null?void 0:K.contains)!=null&&ee.call(K,A))&&A.focus({preventScroll:!0})))}:void 0,tabIndex:-1,style:{...m.style,...k,"--button-width":xt(i.button,!0).width},...he(D)}),w=Qe(),Z=$(()=>{let x=f.current;if(!x)return;function y(){G(w.current,{[z.Forwards]:()=>{var E;J(x,H.First)===de.Error&&((E=i.afterPanelSentinel.current)==null||E.focus())},[z.Backwards]:()=>{var E;(E=i.button)==null||E.focus({preventScroll:!0})}})}y()}),X=$(()=>{let x=f.current;if(!x)return;function y(){G(w.current,{[z.Forwards]:()=>{var E;if(!i.button)return;let N=Ae(),K=N.indexOf(i.button),ee=N.slice(0,K+1),A=[...N.slice(K+1),...ee];for(let Ee of A.slice())if(Ee.dataset.headlessuiFocusGuard==="true"||(E=i.panel)!=null&&E.contains(Ee)){let rt=A.indexOf(Ee);rt!==-1&&A.splice(rt,1)}J(A,H.First,{sorted:!1})},[z.Backwards]:()=>{var E;J(x,H.Previous)===de.Error&&((E=i.button)==null||E.focus())}})}y()});return h.createElement(qe,null,h.createElement(Se.Provider,{value:a},h.createElement(Ie.Provider,{value:{close:c,isPortalled:v}},h.createElement(je,{enabled:d?e.static||T:!1},T&&v&&h.createElement(ue,{id:P,ref:i.beforePanelSentinel,features:se.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:Z}),L({mergeRefs:F,ourProps:W,theirProps:m,slot:Q,defaultTag:Cr,features:Mr,visible:T,name:"Popover.Panel"}),T&&v&&h.createElement(ue,{id:p,ref:i.afterPanelSentinel,features:se.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:X})))))}let jr="div";function Br(e,t){let n=o.useRef(null),a=U(n,t),[r,s]=o.useState([]),d=$(P=>{s(p=>{let f=p.indexOf(P);if(f!==-1){let g=p.slice();return g.splice(f,1),g}return p})}),l=$(P=>(s(p=>[...p,P]),()=>d(P))),u=$(()=>{var P;let p=De(n);if(!p)return!1;let f=p.activeElement;return(P=n.current)!=null&&P.contains(f)?!0:r.some(g=>{var I,k;return((I=p.getElementById(g.buttonId.current))==null?void 0:I.contains(f))||((k=p.getElementById(g.panelId.current))==null?void 0:k.contains(f))})}),m=$(P=>{for(let p of r)p.buttonId.current!==P&&p.close()}),i=o.useMemo(()=>({registerPopover:l,unregisterPopover:d,isFocusWithinPopoverGroup:u,closeOthers:m}),[l,d,u,m]),S=o.useMemo(()=>({}),[]),c=e,v={ref:a};return h.createElement(ve,null,h.createElement(nt.Provider,{value:i},L({ourProps:v,theirProps:c,slot:S,defaultTag:jr,name:"Popover.Group"})))}let Lr=j(kr),qt=j(Tr),_r=j(Ht),Or=j(Ht),Ut=j(Nr),Vt=j(Br),Ar=Object.assign(Lr,{Button:qt,Backdrop:Or,Overlay:_r,Panel:Ut,Group:Vt});const pe={dropDownTitles:"inline-flex justify-center text-sm font-medium text-cu-black-800 group hover:text-cu-red",chevron:"flex-shrink-0 w-5 h-5 ml-1 text-cu-black-300 group-hover:text-cu-black-600"};function ct(...e){return e.filter(Boolean).join(" ")}const Hr=({sortOptions:e,filters:t,callback:n})=>{const[a,r]=o.useState(!1),[s,d]=o.useState(""),[l,u]=o.useState([]),m=p=>l.includes(p),[i,S]=o.useState([]),c=p=>{const f=p;return l.includes(f)?u([...l].filter(g=>g!==f)):u([...l,f])},v=p=>{const f=p;return u([...l].filter(g=>g!==f))};o.useEffect(()=>{d(s),S(l)},[s,l]),o.useEffect(()=>{n(l)},[l,n]);const P=Gt();return b.jsxs("div",{className:"cu-filter cu-component not-prose",children:[b.jsx(fe,{show:a,as:o.Fragment,children:b.jsxs(Dn,{as:"div",className:"relative z-40 sm:hidden",onClose:r,children:[b.jsx(me,{as:o.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),b.jsx("div",{className:"fixed inset-0 z-40 flex",children:b.jsx(me,{as:o.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:b.jsxs(Mt,{className:"relative flex flex-col w-full h-full max-w-xs ml-auto overflow-y-auto bg-white shadow-xl",children:[b.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-cu-black-50",children:[b.jsx("h2",{className:"text-base font-medium text-cu-black-800",children:"Filters"}),b.jsxs("button",{type:"button",className:"flex items-center justify-center w-8 h-8 p-2 -mr-1 bg-white rounded-md text-cu-black-600",onClick:()=>r(!1),children:[b.jsx("span",{className:"sr-only",children:"Close menu"}),b.jsx(nn,{className:"w-6 h-6","aria-hidden":"true"})]})]}),b.jsx("form",{children:t.map(p=>b.jsx(Kn,{as:"div",className:"px-4 py-6 border-t border-cu-black-100",children:({open:f})=>b.jsxs(b.Fragment,{children:[b.jsx("h3",{className:"flow-root -mx-2 -my-3 group",children:b.jsxs(jt,{className:"flex items-center justify-between w-full px-2 py-3 text-sm bg-white text-cu-black-300 group-hover:text-cu-black-600",children:[b.jsx("span",{className:"font-medium text-cu-black-600",children:p.name}),b.jsx("span",{className:"flex items-center ml-6",children:b.jsx(ke,{className:ct(f?"-rotate-180":"rotate-0","h-5 w-5 transform"),"aria-hidden":"true"})})]})}),b.jsx(Bt,{className:"pt-6",children:b.jsx("div",{className:"space-y-6",children:p.options.map((g,I)=>b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{id:`filter-mobile-${p.id}-${I}`,name:`${p.id}[]`,defaultValue:g.label,type:"checkbox",onChange:()=>c(g.label),defaultChecked:m(g.label),className:"w-4 h-4 rounded border-cu-black-200 text-cu-red focus:ring-cu-red-100"}),b.jsx("label",{htmlFor:`filter-mobile-${p.id}-${I}`,className:"ml-3 text-sm text-cu-black-600",children:g.label})]},I))})})]})},p.name))})]})})})]})}),b.jsxs("section",{"aria-labelledby":"filter-heading",children:[b.jsx("h2",{id:"filter-heading",className:"sr-only",children:"Filters"}),b.jsx("div",{className:"py-4 border rounded-tl-lg rounded-tr-lg border-cu-black-100 bg-gray-50",children:b.jsxs("div",{className:"flex justify-between px-4 sm:px-6",children:[b.jsxs(xr,{as:"div",className:"relative",children:[e&&(e==null?void 0:e.length)>0&&b.jsx("div",{children:b.jsxs(Lt,{className:pe.dropDownTitles,children:["Sort",b.jsx(ke,{className:pe.chevron,"aria-hidden":"true"})]})}),b.jsx(fe,{as:o.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:b.jsx(_t,{className:"absolute z-10 w-40 mt-2 bg-white rounded-md shadow-lg -left-4 ring-1 ring-black ring-opacity-5 focus:outline-none",children:e&&(e==null?void 0:e.length)>0&&b.jsx("div",{className:"py-1",children:e.map(p=>b.jsx(Ot,{children:({active:f})=>b.jsx(P,{href:p.href,className:ct(p.name===s?"font-medium text-cu-black-800":"text-cu-black-600",f?"bg-gray-100":"","block px-4 py-2 text-sm")})},p.name))})})})]}),b.jsx("button",{type:"button",className:"inline-block text-sm font-medium text-cu-black-800 hover:text-cu-red sm:hidden",onClick:()=>r(!0),children:"Filters"}),b.jsx("div",{className:"hidden sm:block",children:b.jsx("div",{className:"flow-root",children:b.jsx(Vt,{className:"flex items-center -mx-4 divide-x divide-gray-200",children:t.map((p,f)=>b.jsxs(Ar,{className:"relative inline-block px-4 text-left",children:[b.jsxs(qt,{className:pe.dropDownTitles,children:[b.jsx("span",{children:p.name}),b.jsx(ke,{className:pe.chevron,"aria-hidden":"true"})]}),b.jsx(fe,{as:o.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:b.jsx(Ut,{className:"absolute right-0 z-10 p-4 mt-2 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:b.jsx("form",{className:"space-y-4",children:p.options.map((g,I)=>b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{id:`filter-${p.id}-${I}`,name:`${p.id}[]`,defaultValue:g.label,type:"checkbox",onChange:()=>c(g.label),defaultChecked:m(g.label),className:"w-4 h-4 rounded border-cu-black-200 text-cu-red focus:ring-cu-red-100"}),b.jsx("label",{htmlFor:`filter-${p.id}-${I}`,className:"pr-6 ml-3 text-sm whitespace-nowrap text-cu-black-600",children:g.label})]},I))})})})]},f))})})})]})}),b.jsx("div",{className:"bg-white border border-t-0 rounded-bl-lg rounded-br-lg border-cu-black-100",children:b.jsxs("div",{className:"px-4 py-3 sm:flex sm:items-center sm:px-6",children:[b.jsxs("h3",{className:"py-1 text-sm text-cu-black-600",children:["Filters",b.jsx("span",{className:"sr-only",children:", active"})]}),b.jsx("div",{"aria-hidden":"true",className:"hidden w-px h-5 bg-gray-300 sm:ml-4 sm:block"}),b.jsx("div",{className:"mt-4 sm:ml-4 sm:mt-0",children:b.jsx("div",{className:"flex flex-wrap items-center gap-3 -m-1",children:i.map((p,f)=>b.jsxs("span",{className:"inline-flex items-center py-1 pl-3 pr-2 text-sm bg-white border rounded-lg border-cu-black-100 text-cu-black-600",children:[b.jsx("span",{children:p}),b.jsxs("button",{type:"button",onClick:()=>v(p),className:"inline-flex flex-shrink-0 w-4 h-4 p-1 ml-1 rounded-full text-cu-black-400 hover:bg-cu-red hover:text-white",children:[b.jsxs("span",{className:"sr-only",children:["Remove filter for ",p]}),b.jsx("svg",{className:"w-2 h-2",stroke:"currentColor",fill:"none",viewBox:"0 0 8 8",children:b.jsx("path",{strokeLinecap:"round",strokeWidth:"1.5",d:"M1 1l6 6m0-6L1 7"})})]})]},f))})})]})})]})]})};Hr.__docgenInfo={description:"",methods:[],displayName:"Filter",props:{sortOptions:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  name: string
  href: string
  current: boolean
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"href",value:{name:"string",required:!0}},{key:"current",value:{name:"boolean",required:!0}}]}}],raw:`{
  name: string
  href: string
  current: boolean
}[]`},description:""},filters:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string
  name: string
  options: {
    value: string
    label: string
    checked: boolean
  }[]
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"name",value:{name:"string",required:!0}},{key:"options",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  value: string
  label: string
  checked: boolean
}`,signature:{properties:[{key:"value",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"checked",value:{name:"boolean",required:!0}}]}}],raw:`{
  value: string
  label: string
  checked: boolean
}[]`,required:!0}}]}}],raw:`{
  id: string
  name: string
  options: {
    value: string
    label: string
    checked: boolean
  }[]
}[]`},description:""},callback:{required:!0,tsType:{name:"signature",type:"function",raw:"(k: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"k"}],return:{name:"void"}}},description:""}}};export{Hr as F};
