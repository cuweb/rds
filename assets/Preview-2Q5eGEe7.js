import{r as g,e as a}from"./index-OlNebYNa.js";import"./_commonjsHelpers-CqkleIqs.js";import"./index-yBjzXJbu.js";const d="64px",p={},k=({src:o,light:t,oEmbedUrl:s,onClickPreview:r,playIcon:b,previewTabIndex:_,previewAriaLabel:u})=>{const[m,n]=g.useState(null);g.useEffect(()=>{!o||!t||!s||x({src:o,light:t,oEmbedUrl:s})},[o,t,s]);const x=async({src:e,light:c,oEmbedUrl:E})=>{if(a.isValidElement(c))return;if(typeof c=="string"){n(c);return}if(p[e]){n(p[e]);return}n(null);const y=await(await fetch(E.replace("{url}",e))).json();if(y.thumbnail_url){const h=y.thumbnail_url.replace("height=100","height=480").replace("-d_295x166","-d_640");n(h),p[e]=h}},I=e=>{(e.key==="Enter"||e.key===" ")&&(r==null||r(e))},v=e=>{r==null||r(e)},l=a.isValidElement(t),f={display:"flex",alignItems:"center",justifyContent:"center"},i={preview:{width:"100%",height:"100%",backgroundImage:m&&!l?`url(${m})`:void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer",...f},shadow:{background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:d,width:d,height:d,position:l?"absolute":void 0,...f},playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},w=a.createElement("div",{style:i.shadow,className:"react-player__shadow"},a.createElement("div",{style:i.playIcon,className:"react-player__play-icon"}));return a.createElement("div",{style:i.preview,className:"react-player__preview",tabIndex:_,onClick:v,onKeyDown:I,...u?{"aria-label":u}:{}},l?t:null,b||w)};var K=k;export{K as default};
